<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Let&#39;s Encrypt</title>
    <link>https://qubitpi.github.io/letsencrypt-ewebsite/</link>
    <description>  Let&#39;s Encrypt is a free, automated, and open certificate
  authority brought to you by the nonprofit &lt;a href=&#34;https://www.abetterinternet.org/&#34;&gt;Internet Security Research Group (ISRG)&lt;/a&gt;.
</description>
    <language>en-US</language>
    <lastBuildDate>Wed, 24 May 2023 00:00:00 +0000</lastBuildDate>
    <generator>Hugo v0.89.1</generator>
    <atom:link href="https://qubitpi.github.io/letsencrypt-ewebsite/feed.xml" rel="self" type="application/rss+xml" />
      <item>
        <title>ISRG’s 10th Anniversary</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2023/05/24/isrg-10th-anniversary.html</link>
        <pubDate>Wed, 24 May 2023 00:00:00 +0000</pubDate>
        <description><![CDATA[<div class="card border-0 pic-quote-right">
    <img alt="Celebrating 10 Years of ISRG" class="mx-auto img-fluid" src="/images/blog/2023-05-24-ISRG_10th_anniversary_-_short.gif" />
</div>
<p>It&rsquo;s hard to believe 10 years have passed since Eric Rescorla, Alex Halderman, Peter Eckersley and I founded ISRG as a nonprofit home for public benefit digital infrastructure. We had an ambitious vision, but we couldn&rsquo;t have known then the extent to which that vision would become shared and leveraged by so much of the Internet.</p>
<p>Since its founding in 2013, ISRG&rsquo;s <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> certificate authority has come to serve hundreds of millions of websites and protect just about everyone who uses the Web. Our <a href="https://www.memorysafety.org/">Prossimo</a> project has brought the urgent issue of memory safety to the fore, and <a href="https://divviup.org/">Divvi Up</a> is set to revolutionize the way apps collect metrics while preserving user privacy. I&rsquo;ve tried to comprehend how much data about peoples' lives our work has and will protect, and tried even harder to comprehend what that means if one could quantify privacy. It&rsquo;s simply beyond my ability.</p>
<p><a href="https://www.abetterinternet.org/tenth-anniversary/">Some of the highlights</a> from the past ten years include:</p>
<ul>
<li>
<p>May 24, 2013: ISRG is incorporated, intending to build Let&rsquo;s Encrypt</p>
</li>
<li>
<p>November 18, 2014: The Let&rsquo;s Encrypt project is <a href="https://letsencrypt.org/2014/11/18/announcing-lets-encrypt.html">announced publicly</a></p>
</li>
<li>
<p>September 14, 2015: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2015/09/14/our-first-cert.html">issues its first certificate</a></p>
</li>
<li>
<p>October 19, 2015: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2015/10/19/lets-encrypt-is-trusted.html">becomes publicly trusted</a></p>
</li>
<li>
<p>December 3, 2015: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2015/12/03/entering-public-beta.html">becomes generally available</a></p>
</li>
<li>
<p>March 8, 2016: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2016/03/08/our-millionth-cert.html">issues its millionth certificate</a></p>
</li>
<li>
<p>June 28, 2017: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2017/06/28/hundred-million-certs.html">issues its 100 millionth certificate</a></p>
</li>
<li>
<p>March 11, 2019: The ACME protocol <a href="https://letsencrypt.org/2019/03/11/acme-protocol-ietf-standard.html">becomes an IETF standard</a></p>
</li>
<li>
<p>February 27, 2020: Let&rsquo;s Encrypt <a href="https://letsencrypt.org/2020/02/27/one-billion-certs.html">issues its billionth certificate</a></p>
</li>
<li>
<p>October 26, 2020: ISRG board approves a privacy preserving metrics project, now Divvi Up</p>
</li>
<li>
<p>December 9, 2020: ISRG board approves a memory safety project, now Prossimo</p>
</li>
<li>
<p>December 18, 2020: Divvi Up starts <a href="https://divviup.org/blog/prio-services-for-covid-en/">servicing COVID exposure notification</a></p>
</li>
<li>
<p>October 3, 2022: Support for Rust is <a href="https://www.memorysafety.org/blog/rust-in-linux-just-the-beginning/">merged into the Linux kernel</a></p>
</li>
</ul>
<p>All this wouldn&rsquo;t be possible without our staff, community, donors, <a href="https://www.abetterinternet.org/sponsors/">funders</a>, and other partners, all of whom I&rsquo;d like to thank wholeheartedly.</p>
<p>I feel so fortunate that we&rsquo;ve been able to thrive. We&rsquo;re fortunate primarily because great people got involved and funders stepped up, but there&rsquo;s also just a bit of good fortune involved in any success story. The world is a complicated place, there is complex context that one can&rsquo;t control around every effort. Despite our best efforts, fortune has a role to play in terms of the degree to which the context swirling around us helps or hinders. We have been fortunate in every sense of the word and for that I am grateful.</p>
<p>Our work is far from over. Each of our three projects has challenges and opportunities ahead.</p>
<p>For Let&rsquo;s Encrypt, which is more critical than ever and relatively mature, our focus over the next few years will be on long-term sustainability. More and more people working with certificates can&rsquo;t recall a time when Let&rsquo;s Encrypt didn&rsquo;t exist, and most people who benefit from our service don&rsquo;t need to know it exists at all (by design!). Let&rsquo;s Encrypt is just part of how the Internet works now, which is great for many reasons, but it also means it&rsquo;s at risk of being taken for granted. We are making sure that doesn&rsquo;t happen so we can keep Let&rsquo;s Encrypt running reliably and make investments in its future.</p>
<p>Prossimo is making a huge amount of progress moving critical software infrastructure to memory safe code, from the <a href="https://www.memorysafety.org/initiative/linux-kernel/">Linux kernel</a> to <a href="https://www.memorysafety.org/initiative/ntp/">NTP</a>, <a href="https://www.memorysafety.org/initiative/rustls">TLS</a>, <a href="https://www.memorysafety.org/initiative/av1/">media codecs</a>, and even <a href="https://www.memorysafety.org/initiative/sudo-su/">sudo/su</a>. We have two major challenges ahead of us here. The first is to raise the money we need to complete development work. The second is to get the safer software we&rsquo;ve been building adopted widely. We feel pretty good about our plans but it&rsquo;s not going to be easy. Things worth doing rarely are.</p>
<p>Divvi Up is exciting technology with a bright future. Our biggest challenge here, like most things involving cryptography, is to make it easy to use. We also need to make sure we can provide the service at a cost that will allow for widespread adoption, so we&rsquo;ll be doing a lot of optimization. Our hope is that over the next decade we can make privacy respecting metrics the norm, just like we did for HTTPS.</p>
<p>The internet wasn&rsquo;t built with security or privacy in mind, so there is a bountiful opportunity for us to improve its infrastructure. The Internet is also constantly growing and changing, so it is also our job to look into the future and prepare for the next set of threats and challenges as best we can.</p>
<p>Thanks to our supporters, we&rsquo;ll continue adapting and responding to help ensure the Web is more secure long into the future. Please consider <a href="https://www.abetterinternet.org/sponsor/">becoming a sponsor</a> or <a href="https://www.abetterinternet.org/donate/">making a donation</a> in support of our work.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2023/05/24/isrg-10th-anniversary.html</guid>
      </item><item>
        <title>Improving Resiliency and Reliability for Let’s Encrypt with ARI</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2023/03/23/improving-resliiency-and-reliability-with-ari.html</link>
        <pubDate>Thu, 23 Mar 2023 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>The Let&rsquo;s Encrypt team is excited to announce that <a href="https://datatracker.ietf.org/doc/draft-ietf-acme-ari/">ACME Renewal Information (ARI)</a> is live in production! ARI makes it possible for our subscribers to handle certificate revocation and renewal as easily and automatically as the process of getting a certificate in the first place.</p>
<p>With ARI, Let&rsquo;s Encrypt can signal to ACME clients when they should renew certificates. In the normal case of a certificate with a 90 day lifetime, ARI might signal for renewal at 60 days. If Let&rsquo;s Encrypted needs to revoke a certificate for some reason, ARI can signal that renewal needs to happen prior to the revocation. This means that even in extenuating circumstances, renewal can happen in an entirely automated way without disrupting subscriber services.</p>
<p>Without ARI, an unexpected revocation event might mean that Let&rsquo;s Encrypt would have to send emails to affected subscribers, maybe those emails are read in time to avoid a service disruption, maybe they aren&rsquo;t, and engineers have to manually take action to trigger early renewals, possibly in the middle of the night. We can&rsquo;t wait for ARI to make this scenario a thing of the past.</p>
<p>ARI has a couple of additional benefits for Let&rsquo;s Encrypt and our subscribers. First, we can use ARI to help modulate renewals as needed to avoid load spikes on the Let&rsquo;s Encrypt infrastructure (of course subscribers can still renew whenever they want or need, as ARI is merely a signal or suggestion). Second, ARI can be used to set subscribers up for success in terms of ideal renewal times in the event that Let&rsquo;s Encrypt offers even shorter-lived certificates in the future.</p>
<p>ARI has been <a href="https://datatracker.ietf.org/doc/draft-ietf-acme-ari/">standardized</a> in the IETF, a process that started with an <a href="https://mailarchive.ietf.org/arch/msg/acme/b-RddSX8TdGYvO3f9c7Lzg6I2I4/">email</a> from Let&rsquo;s Encrypt engineer Roland Shoemaker in March of 2020. In September of 2021 Let&rsquo;s Encrypt engineer Aaron Gable submitted the first draft to the IETF&rsquo;s ACME working group, and now ARI is in production. The next step is for ACME clients to start supporting ARI, a process we plan to help with as best we can in the coming months.</p>
<p>ARI is a huge step forward for agility and resiliency in the TLS certificate ecosystem and we&rsquo;re excited to see it gain widespread adoption!</p>
<h2 id="supporting-let-s-encrypt">Supporting Let&rsquo;s Encrypt</h2>
<p>As a project of the <a href="https://abetterinternet.org/">Internet Security Research Group</a> (ISRG), 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our public benefit services. If your company or organization would like to sponsor Let&rsquo;s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="/letsencrypt-ewebsite/donate/" hreflang="en-US">donation</a>, we ask that you make an individual contribution.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2023/03/23/improving-resliiency-and-reliability-with-ari.html</guid>
      </item><item>
        <title>Thank you to our 2023 renewing sponsors</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2023/01/19/renewing-sponsors.html</link>
        <pubDate>Thu, 19 Jan 2023 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>At ISRG, we often say, &ldquo;as a nonprofit, 100% of our funding comes from charitable contributions.&rdquo; But what does that actually look like? For nearly a decade, the vast majority of our funding has come from sponsorships&mdash;in fact, more than $17 million dollars has been donated to ISRG since 2015. Looking to the year ahead, we wanted to take a moment to thank our renewing sponsors who, quite literally, make our work possible: </p>
<h2 id="with-us-since-the-beginning">With us since the beginning</h2>
<p>In 2015, the work ISRG set out to do was viewed by many as audacious, if not incredible. Back then, SSL/TLS was used by less than 40% of page loads. Getting a certificate was costly and complicated. Our aim was to make access to SSL certificates easy, free, and automated. That same year nineteen sponsors came on board to help us realize this mission. Today, seventeen of those sponsors and grantmakers have stayed on board every year! Now in their eighth year as a sponsor, Hostpoint has renewed their support for 2023. Their Co-founder and CEO, Markus Gebert, commented: </p>
<blockquote>
<p>&ldquo;We have supported Let&rsquo;s Encrypt since the very beginning. It is very valuable and important that nowadays any website can be equipped with an SSL certificate free of charge.&rdquo;</p>
</blockquote>
<p>Our thanks to Akamai, Cisco, Mozilla, Google, OVHcloud, Internet Society, Shopify, Hostpoint, SiteGround, Cyon, IdenTrust, Vultr, Automattic, Electronic Frontier Foundation, infomaniak, PlanetHoster, and Discourse for their eight years of support.</p>
<div class="grid-container">
        <div class="text-center home_sponsors">
                <a href="https://www.akamai.com"><img src="/images/sponsors/small/akamai-logo.png" alt="Akamai" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.cisco.com"><img src="/images/sponsors/small/cisco-logo.png" alt="Cisco" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.mozilla.org"><img src="/images/sponsors/small/mozilla-logo.png" alt="Mozilla" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.google.com/chrome"><img src="/images/sponsors/small/chrome-logo.png" alt="Google Chrome" rel="nofollow" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.ovh.com"><img src="/images/sponsors/small/ovh-logo.png" alt="OVH" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.internetsociety.org"><img src="/images/sponsors/small/isoc-logo.png" alt="Internet Society" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.shopify.com"><img src="/images/sponsors/small/shopify-logo.png" alt="shopify" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.hostpoint.ch"><img src="/images/sponsors/small/hostpoint-logo.png" alt="HostPoint" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.siteground.com"><img src="/images/sponsors/small/siteground-logo.png" alt="SiteGround" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.cyon.ch"><img src="/images/sponsors/small/cyon-logo.png" alt="Cyon" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.identrust.com"><img src="/images/sponsors/small/identrust-logo.png" alt="IdenTrust" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.vultr.com"><img src="/images/sponsors/small/vultr-logo.png" alt="Vultr" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://automattic.com"><img src="/images/sponsors/small/automattic-logo.png" alt="Automattic" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.eff.org"><img src="/images/sponsors/small/eff-logo.png" alt="Electronic Frontier Foundation" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.infomaniak.ch"><img src="/images/sponsors/small/infomaniak-logo.png" alt="Infomaniak" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.planethoster.com"><img src="/images/sponsors/small/planethoster-logo.png" alt="Hébergement web" width="80" height="48" class="sponsor-logo-small"></a>
                <a href="https://www.discourse.org"><img src="/images/sponsors/small/discourse-logo.png" alt="Discourse" width="80" height="48" class="sponsor-logo-small"></a>
        </div>
</div>
<h2 id="committed-to-a-better-internet">Committed to a better Internet</h2>
<p>We know that finding sponsorship dollars is often anything but a straightforward path. That&rsquo;s why we approach sponsorship as an ongoing conversation, not a one-time transactional interaction. As a result, we&rsquo;re proud that each year we see on average 80% of our sponsors renew their support. From large organizations with thousands of staff to one-person shops, our sponsors come in all shapes and sizes&mdash;but all share a common goal of helping to make our work happen. </p>
<p>We are grateful to the 70 sponsors renewing their support for 2023 who combined provide close to 60% of our operating budget. Their continued support means we begin 2023 well on our way towards our fundraising need for the year. Shopify, a sponsor since 2015 has renewed their Gold sponsorship for 2023. Their Founder and CEO, Tobi Lütke, commented:</p>
<blockquote>
<p>&ldquo;Let&rsquo;s Encrypt makes it easy for everyone to do the right thing to secure the Internet. We couldn&rsquo;t be happier to give our support to such a great effort.&rdquo;</p>
</blockquote>
<p>Together, <a href="/letsencrypt-ewebsite/sponsors/" hreflang="en-US">these organizations</a> make the mission of ISRG, and its impact for billions of people around the world, possible. Powered by their support, we look forward to continuing to build a Web that works for everyone, everywhere.</p>
<h2 id="supporting-let-s-encrypt">Supporting Let&rsquo;s Encrypt</h2>
<p>As a project of the <a href="https://abetterinternet.org/">Internet Security Research Group</a> (ISRG), 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our public benefit services. If your company or organization would like to sponsor Let&rsquo;s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="https://letsencrypt.org/donate/">donation</a>, we ask that you make an individual contribution.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2023/01/19/renewing-sponsors.html</guid>
      </item><item>
        <title>A Look into the Engineering Culture at ISRG</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2023/01/12/eng-culture-at-isrg.html</link>
        <pubDate>Thu, 12 Jan 2023 12:00:00 +0000</pubDate>
        <description><![CDATA[<p>Engineers design systems and processes to ensure high quality outcomes and solutions - what if the same lens could be used to build a workplace where these very same engineers can thrive? Many organizations toil on how to build an environment where employees are engaged, challenged, and happy with their workplace, and while ISRG is not immune to those challenges, we do implement a few distinctive practices that help mitigate some workplace difficulties. Because 68% of our staff are engineers, we will be focusing in this post on how we are building a workplace culture where engineers can thrive.</p>
<p><strong>1. Aligning Growth Aspirations</strong></p>
<p>It happens again and again: a solid engineer grows and moves up the ranks and is then promoted to team manager, where they are supposed to juggle individual contributions, technical oversight, and people management. Many times, the engineer may not even have growth aspirations in people management, and yet they are put in a position where they are expected to know how to manage people and do it well. This could lead to the employee feeling like they cannot do their job sufficiently, feelings of imposter syndrome, burnout, or unreasonable expectations for everyone else put in a similar position.</p>
<p>To address this issue, our engineering career ladder intentionally does not include management requirements. This enables engineers to continually grow as individual contributors without having to be forced into responsibilities they may not be interested in or skilled at.</p>
<p>Many of our Site Reliability Engineers (SREs) have a background in operations work. To support their growth, we run a job rotation cycle where SREs spend 12-18 months on our Developer team to foster coding, architecture, and design skills. Some extra benefits to this are the strengthening of mentorship amongst team members as well as the connection between the two teams for better alignment in priorities and understanding.</p>
<p>It is essential to support employees in their growth and goal setting consistently so that workforce planning can be done with the employees' best interests in mind. This is done through cultivating a psychologically safe environment where employees feel comfortable asking questions, making mistakes, and are encouraged to reflect and be open about their aspirations. Processes that help this along are regularly structured check-ins, performance reviews, blameless post-incident debriefs, and open feedback and communication with their peers and leaders.</p>
<p><strong>2. Mitigate the Management SPOF (Single Point of Failure)</strong></p>
<p>Every engineering team at ISRG is led by a Technical Lead and a People Manager. This separation of technical and people oversight allows for the work of leading an engineering team to be broken up so that it is not all resting on one person. The Technical Lead can focus on being in charge of the technical viability, structures, and processes while the People Manager can focus on things such as individual and team goal setting, growth opportunities, and conflict resolution.</p>
<p>The Technical Lead and People Manager come together when it comes to process development, visibility, and recognition. They also work together to address things for each other while not playing the other&rsquo;s role, thus mitigating the &ldquo;who manages the manager&rdquo; quandary. There are more instances where collaboration is needed between the two positions and that crossover lends to more perspective and opinion on what could be a complex issue.</p>
<p><strong>3. Intentional Scalability</strong></p>
<p>It is easy to dive straight into action items and deadlines, and then before you know it, things are rapidly scaling in efforts to keep up. The analogy of &ldquo;building the plane while it&rsquo;s flying&rdquo; comes to mind. Later down the line those scaled systems show flaws that are far more difficult to repair.</p>
<p>Much like designing a reliable and scalable engineering system, our goal is to create a workforce system that can handle increases in load while maintaining effective performance without redesigning the whole thing or &ldquo;rebuilding the plane.&rdquo;</p>
<p>Our dual leadership approach sets up our management with increased load and changing priorities in mind. Both people have more wiggle room to anticipate and adjust. It may seem superfluous to have Engineering People Managers in a small organization, however this prepares for future growth with a relatively lean solution without the extra complexity.</p>
<p>Like all scalable solutions, there is the upfront investment of time and money. However, the benefits will far outweigh the costs in the long run since building on scalable systems is typically less expensive than trying to adapt or redesign less agile systems.</p>
<p>While reflecting on our engineering workplace systems and how they came to be, we recognized that many were organically built out of having a remote workplace, autonomous teams, and the driving values of flexibility and inclusion. We will continue to design practices with these things in mind.</p>
<p>All in all, when looked at with a holistic lens, building an engineering workplace culture has several considerations that are similar to those we focus on when designing software systems. The obvious difference is that instead of functions and data, we are dealing with actual people with feelings and ever changing wants and needs. That is why it is important to once again acknowledge that no two workplaces are the same and there are no perfect solutions, but we hope that these few points lead to thoughtful reflection on how organizations can improve their engineer workplace experience.</p>
<p>If this sounds like a culture you&rsquo;d like to be a part of, check out our <a href="https://www.abetterinternet.org/careers/">open jobs</a>!</p>
<h2 id="supporting-let-s-encrypt">Supporting Let&rsquo;s Encrypt</h2>
<p>As a project of the <a href="https://abetterinternet.org/">Internet Security Research Group</a> (ISRG), 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our public benefit services. If your company or organization would like to sponsor Let&rsquo;s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="https://letsencrypt.org/donate/">donation</a>, we ask that you make an individual contribution.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2023/01/12/eng-culture-at-isrg.html</guid>
      </item><item>
        <title>Let’s Encrypt improves how we manage OCSP responses</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/12/15/ocspcaching.html</link>
        <pubDate>Thu, 15 Dec 2022 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>Let&rsquo;s Encrypt has improved how we manage Online Certificate Status Protocol (OCSP) responses by deploying Redis and generating responses on-demand rather than pre-generating them, making us more reliable than ever.</p>
<h2 id="about-ocsp-responses">About OCSP Responses</h2>
<p>OCSP is used to communicate the revocation status of TLS certificates. When an ACME agent signs a request to revoke a certificate, our Let&rsquo;s Encrypt Certificate Authority (CA) verifies whether or not the request is authorized and if it is, we begin publishing a &lsquo;revoked&rsquo; OCSP response for that certificate. Each time a relying party, such as a browser, visits a domain with a Let&rsquo;s Encrypt certificate, they can request information about whether the certificate has been revoked and we serve a reply containing &lsquo;good&rsquo; or &lsquo;revoked&rsquo;, signed by our CA, which we call an OCSP response.</p>
<h2 id="an-enormous-ocsp-response-load-100-000-every-second">An Enormous OCSP Response Load: 100,000 Every Second</h2>
<p>Let&rsquo;s Encrypt currently serves over <a href="https://letsencrypt.org/stats/">300 million domains</a>, which means we receive an enormous number of certificate revocation status requests &mdash; fielding around 100,000 OCSP responses <em>every second!</em></p>
<p>Normally 98-99% of our OCSP responses are handled by our Content Delivery Network (CDN). But there are times when our CDN has an issue resulting in Let&rsquo;s Encrypt being required to directly accept a larger number of requests. Historically, we could effectively respond to a maximum of 6% of our OCSP response traffic on our own. Should the need arise for us to accept much higher than that, some of our systems might begin to take too long to return results, return significant numbers of errors, or even stop accepting new requests. Not an ideal situation for us, or the Internet.</p>
<p>Our inability to serve OCSP responses during an issue with one of our CDNs could result in a slowdown in users' browsing speed or not being able to connect to a website &mdash; or worse, Internet users unintentionally visiting domains for which a certificate has been revoked. Browsers react differently to unresponsive OCSP, but one thing was clear, our systems needed to handle these occasions much better.</p>
<h2 id="increasing-our-reliability">Increasing our Reliability</h2>
<p>After working on this throughout most of 2022, our engineers have dramatically improved our ability to independently serve OCSP responses. We did that by deploying Redis as an in-memory caching layer that helps protect our database by absorbing traffic spikes, whether due to CDN issues or our own actions, such as CDN cache clearing.</p>
<h2 id="pivot-in-design">Pivot in Design</h2>
<p>Our team developed a system architecture design to organize/change all of the various interconnected systems needed to make Redis trusted to serve our OCSP responses. Amidst the fervor of developing this design, our engineers identified a resource we could depend upon more heavily to simplify the overall architecture and still realize incredible reliability gains. Rather than pre-signing OCSP status responses at regular intervals, storing the results in a relational database, and asking Redis to keep copies&mdash;we could keep simple but authoritative certificate status information in our database. We could then leverage fast, concurrent signing power from our HSMs to Just-in-Time sign a fresh OCSP response, cache it in Redis, and return it to the requester. Thanks to this, the demands on the relational database became much lighter (especially total table-writes and write-contention), the speed was impressive, and Redis wasn&rsquo;t holding anything that couldn&rsquo;t be (very very quickly) regenerated.</p>
<h2 id="testing-our-systems">Testing our Systems</h2>
<p>The first test was to directly accept 1/16 of the requests by dropping a segment of our CDN cache. In that initial test we handled ~12,500 requests per second. Successive tests ratcheted up to 1/8th CDN cache drop, then 1/4th, then 1/2, then a 100% cache drop. With each ratcheting up of the test load we were able to monitor and glean insights as to how our deployment could handle the traffic. In the final test of 100% of requests, our systems remained responsive. This means that if we experience a spike in the number of OCSP responses we need to accept moving forward, we are equipped to handle them, dramatically reducing the risks to Internet users.</p>
<h2 id="supporting-let-s-encrypt">Supporting Let&rsquo;s Encrypt</h2>
<p>As a project of the <a href="https://abetterinternet.org/">Internet Security Research Group</a> (ISRG), 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our public benefit services. If your company or organization would like to sponsor Let&rsquo;s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="https://letsencrypt.org/donate/">donation</a>, we ask that you make an individual contribution.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/12/15/ocspcaching.html</guid>
      </item><item>
        <title>A Year-End Letter from our Executive Director</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/12/05/ed-letter-2022.html</link>
        <pubDate>Mon, 05 Dec 2022 12:00:00 +0000</pubDate>
        <description><![CDATA[<p><em>This letter was originally published in our <a href="https://www.abetterinternet.org/documents/2022-ISRG-Annual-Report.pdf">2022 annual report</a>.</em></p>
<p>The past year at ISRG has been a great one and I couldn&rsquo;t be more proud of our staff, community, funders, and other partners that made it happen. <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> continues to thrive, serving more websites around the world than ever before with excellent security and stability.</p>
<p>A particularly big moment was when Let&rsquo;s Encrypt surpassed 300,000,000 websites served. When I was informed that we had reached that milestone, my first reaction was to be excited and happy about how many people we&rsquo;ve been able to help. My second reaction, following on quickly after the first, was to take a deep breath and reflect on the magnitude of the responsibility we have here.</p>
<p>The way ISRG is translating that sense of responsibility to action today is probably best described as a focus on agility and resilience. We need to assume that, despite our best efforts trying to prevent issues, unexpected and unfortunate events will happen and we need to position ourselves to handle them.</p>
<p>Back in March of 2020 Let&rsquo;s Encrypt needed to respond to a compliance incident that affected nearly three million certificates. That meant we needed to get our subscribers to renew those three million certificates in a very short period of time or the sites might have availability issues. We dealt with that incident pretty well considering the remediation options available, but it was clear that incremental improvements would not make enough of a difference for events like this in the future. We needed to introduce systems that would allow us to be significantly more agile and resilient going forward.</p>
<p>Since then we&rsquo;ve developed a specification for <a href="https://datatracker.ietf.org/doc/draft-ietf-acme-ari/00/">automating certificate renewal signals</a> so that our subscribers can handle revocation/renewal events as easily as they can get certificates in the first place (it just happens automatically in the background!). That specification is making its way through the IETF standards process so that the whole ecosystem can benefit, and we plan to deploy it in production at Let&rsquo;s Encrypt shortly. Combined with other steps we&rsquo;ve taken in order to more easily handle renewal traffic surges, Let&rsquo;s Encrypt should be able to respond on a whole different level the next time we need to ask significant numbers of subscribers to renew early.</p>
<p>This kind of work on agility and resilience is critical if we&rsquo;re going to improve security and privacy at scale on the Web.</p>
<p>Our <a href="https://divviup.org/">Divvi Up</a> team has made a huge amount of progress implementing a new service that will bring privacy respecting metrics to millions of people. Applications collect all kinds of metrics: some of them are sensitive, some of them aren&rsquo;t, and some of them seem innocuous but could reveal private information about a person. We&rsquo;re making it possible for apps to get aggregated, anonymized metrics that give insight at a population level while protecting the privacy of the people who are using those apps. Everybody wins - users get great privacy and apps get the metrics they need without handling individual user data. As we move into 2023, we&rsquo;ll continue to grow our roster of beta testers and partners.</p>
<p>Our <a href="https://www.memorysafety.org/">Prossimo</a> project started in 2020 with a clear goal: move security sensitive software infrastructure to memory safe code. Since then, we&rsquo;ve gotten a lot of code written to improve memory safety on the Internet.</p>
<p>We&rsquo;re ending the year with <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8aebac82933ff1a7c8eede18cab11e1115e2062b">Rust support being merged into the Linux kernel</a> and the completion of a <a href="https://github.com/memorysafety/ntpd-rs">memory safe NTP client and server implementation</a>. We&rsquo;re thrilled about the potential for a more memory safe kernel, but now we need to see the development of drivers in Rust. We&rsquo;re particularly excited about an <a href="https://lpc.events/event/16/contributions/1180/attachments/1017/1961/deck.pdf">NVMe driver</a> that shows excellent initial performance metrics while coming with the benefit of never producing a memory safety bug. We are actively working to make similar progress on <a href="https://www.memorysafety.org/initiative/rustls/">Rustls</a>, a high-performance TLS library, and <a href="https://www.memorysafety.org/initiative/dns/">Trust-DNS</a>, a fully recursive DNS resolver.</p>
<p>All of this is made possible by charitable contributions from people like you and organizations around the world. Since 2015, tens of thousands of people have given to our work. They&rsquo;ve made a case for corporate sponsorship, given through their DAFs, or set up recurring donations. That&rsquo;s all added up to $17M that we&rsquo;ve used to change the Internet for nearly everyone using it. I hope you&rsquo;ll join these people and support us financially if you can.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/12/05/ed-letter-2022.html</guid>
      </item><item>
        <title>Remembering Peter Eckersley</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/09/12/remembering-peter-eckersley.html</link>
        <pubDate>Mon, 12 Sep 2022 00:00:00 +0000</pubDate>
        <description><![CDATA[
<div class="main-article">
  <div class="card border-0 pic-quote-right">
    <img
      alt="Peter Eckersley Poster"
      class="rounded mx-auto img-fluid"
      src="/images/peter-eckersley.png"
    />
    <div class="pic-quote-right__caption">Artwork by Hugh D’Andrade</div>
  </div>

<p>
Peter Eckersley, a Let’s Encrypt co-founder, passed away unexpectedly on September 2nd from complications of cancer treatment. As an incredibly kind, bright, and energetic person, he was a beloved member of the community of people working to make the Internet a better place. He played an important role in the founding of Let’s Encrypt and his loss is felt deeply by many in our organization.
</p>

<p>
Peter met Alex Halderman at the RSA Conference in 2012 and the two of them started to make plans for technology to automate the process of acquiring HTTPS certificates. This work included early designs for what would become the ACME protocol. Peter and Alex later teamed up with a parallel effort by Josh Aas and Eric Rescorla at Mozilla, and the four of us worked together to create a new automated public benefit CA. The result was Let’s Encrypt, which began service in 2015.
</p>

<p>
Peter also led the development of the initial ACME client, which would eventually become Certbot. In a reflection of Peter’s vision for making the Internet secure by default, Certbot aims to fully automate HTTPS deployment, rather than simply procure a certificate. Today, Certbot is among the most popular ACME clients, and it is developed and maintained by Peter’s former team at the Electronic Frontier Foundation (EFF).
</p>

<p>
Peter was a member of our Board of Directors for several years. We greatly valued his contributions as a Director, but one of the memories from that time that makes us smile the most is Peter’s habit of showing up to board meetings with a messenger bag over his shoulder, helmet hair, and rosy cheeks from arriving by bike.
</p>

<p>
Making change at scale on the Internet is not easy. One way to get it done is to be both a dreamer and someone who possesses the deep technical knowledge necessary to bring dreams to reality. Peter was one of those people, and we’re grateful to have been able to work with him.
</p>

<p>
We hope to honor Peter’s life by letting the qualities we admired so much in him - his energy, optimism, kindness, and pursuit of knowledge - inspire our efforts going forward.
</p>

<p>
Peter's longtime friend and colleague Seth Schoen, who was among the earliest contributors to Let’s Encrypt and Certbot, further memorializes Peter in a <a href="https://community.letsencrypt.org/t/peter-eckersley-may-his-memory-be-a-blessing/183854">post on our community forum</a>.
</p>

</div>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/09/12/remembering-peter-eckersley.html</guid>
      </item><item>
        <title>A New Life for Certificate Revocation Lists</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/09/07/new-life-for-crls.html</link>
        <pubDate>Wed, 07 Sep 2022 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>This month, Let&rsquo;s Encrypt is turning on new infrastructure to support revoking certificates via Certificate Revocation Lists. Despite having been largely supplanted by the Online Certificate Status Protocol for over a decade now, CRLs are gaining new life with recent browser updates. By collecting and summarizing CRLs for their users, browsers are making reliable revocation of certificates a reality, improving both security and privacy on the web. Let&rsquo;s talk about exactly what this new infrastructure does, and why it&rsquo;s important.</p>
<h1 id="a-brief-history-of-revocation">A Brief History of Revocation</h1>
<p>When a certificate becomes untrustworthy (for instance because its private key was compromised), that certificate must be revoked and that information publicized so that no one relies upon it in the future. However, it&rsquo;s a well-worn adage in the world of the Web Public Key Infrastructure (the Web PKI) that <a href="https://scotthelme.co.uk/revocation-is-broken/">revocation is broken</a>. Over the history of the Web PKI, there have been two primary mechanisms for declaring that a TLS/SSL certificate should no longer be trusted: Certificate Revocation Lists (CRLs) and the Online Certificate Status Protocol (OCSP). Unfortunately, both have major drawbacks.</p>
<p>CRLs are basically just lists of all of the certificates that a given Certificate Authority (CA) has issued which have been revoked. This means that they&rsquo;re often very large &ndash; easily the size of a whole movie. It&rsquo;s inefficient for your browser to download a giant list of revoked certificates just to check if the single certificate for the site you&rsquo;re visiting right now is revoked. These slow downloads and checks made web page loads slow, so OCSP was developed as an alternative.</p>
<p>OCSP is sort of like &ldquo;what if there were a separate CRL for every single certificate&rdquo;: when you want to check whether a given certificate has been revoked, your browser can check the status for just that one certificate by contacting the CA&rsquo;s OCSP service. But because OCSP infrastructure has to be running constantly and can suffer downtime just like any other web service, most browsers treat getting no response at all as equivalent to getting a &ldquo;not revoked&rdquo; response. This means that attackers can prevent you from discovering that a certificate has been revoked simply by blocking all of your requests for OCSP information. To help reduce load on a CA&rsquo;s OCSP services, OCSP responses are valid and can be cached for about a week. But this means that clients don&rsquo;t retrieve updates very frequently, and often continue to trust certificates for a week after they&rsquo;re revoked. And perhaps worst of all: because your browser makes an OCSP request for every website you visit, a malicious (or legally compelled) CA could <a href="https://groups.google.com/a/mozilla.org/g/dev-security-policy/c/S6A14e_X-T0/m/T4WxWgajAAAJ">track your browsing behavior</a> by keeping track of what sites you request OCSP for.</p>
<p>So both of the existing solutions don&rsquo;t really work: CRLs are so inefficient that most browsers don&rsquo;t check them, and OCSP is so unreliable that most browsers don&rsquo;t check it. We need something better.</p>
<h1 id="browser-summarized-crls">Browser-Summarized CRLs</h1>
<p>One possible solution that has been making headway recently is the idea of proprietary, browser-specific CRLs. Although different browsers are implementing this differently (e.g. Mozilla calls theirs <a href="https://blog.mozilla.org/security/2020/01/09/crlite-part-1-all-web-pki-revocations-compressed/">CRLite</a>, and Chrome&rsquo;s are <a href="https://www.imperialviolet.org/2012/02/05/crlsets.html">CRLSets</a>), the basic idea is the same.</p>
<p>Rather than having each user&rsquo;s browser download large CRLs when they want to check revocation, the browser <em>vendor</em> downloads the CRLs centrally. They process the CRLs into a smaller format such as a <a href="https://en.wikipedia.org/wiki/Bloom_filter">Bloom filter</a>, then push the new compressed object to all of the installed browser instances using pre-existing rapid update mechanisms. Firefox, for example, is pushing updates as quickly as every 6 hours.</p>
<p>This means that browsers can download revocation lists ahead of time, keeping page loads fast and mitigating the worst problems of vanilla CRLs. It keeps revocation checks local, and the pushed updates can take immediate effect without waiting for a potentially days-long OCSP cache to expire, preventing all of the worst problems with OCSP.</p>
<p>Thanks to the promise of these browser-summarized CRLs, both the <a href="https://www.apple.com/certificateauthority/ca_program.html">Apple</a> and <a href="https://www.mozilla.org/en-US/about/governance/policies/security-group/certs/policy/#41-additional-requirements">Mozilla</a> root programs are requiring that all CAs begin issuing CRLs before October 1st, 2022. Specifically, they are requiring that CAs begin issuing one or more CRLs which together cover all certificates issued by that CA, and that the list of URLs pointing to those CRLs be disclosed in the Common CA Database (CCADB). This will allow Safari and Firefox to switch to using browser-summarized CRL checking for revocation.</p>
<h1 id="our-new-infrastructure">Our New Infrastructure</h1>
<p>When Let&rsquo;s Encrypt was founded, we made an explicit decision to only support OCSP and not produce CRLs at all. This was because the root program requirements at the time only mandated OCSP, and maintaining both revocation mechanisms would have increased the number of places where a bug could lead to a compliance incident.</p>
<p>When we set out to develop CRL infrastructure, we knew we needed to build for scale, and do so in a way that reflects our emphasis on efficiency and simplicity. Over the last few months we have <a href="https://github.com/letsencrypt/boulder/tree/release-2022-08-29/crl">developed</a> a few new pieces of infrastructure to enable us to publish CRLs in compliance with the upcoming requirements. Each component is lightweight, dedicated to doing a single task and doing it well, and will be able to scale well past our current needs.</p>
<p>Let&rsquo;s Encrypt currently has <a href="https://letsencrypt.org/stats/">over 200 million</a> active certificates on any given day. If we had an incident where we needed to revoke every single one of those certificates at the same time, the resulting CRL would be over 8 gigabytes. In order to make things less unwieldy, we will be dividing our CRLs into 128 shards, each topping out at a worst-case maximum of 70 megabytes. We use some carefully constructed math to ensure that &ndash; as long as the number of shards doesn&rsquo;t change &ndash; all certificates will remain within their same shards when the CRLs are re-issued, so that each shard can be treated as a mini-CRL with a consistent scope.</p>
<p>In line with the same best practices that we follow for our certificate issuance, all of our CRLs will be checked for compliance with <a href="https://www.rfc-editor.org/rfc/rfc5280#section-5">RFC 5280</a> and the <a href="https://github.com/cabforum/servercert/blob/bbca71465ed8a8a76383086039f52c750009286a/docs/BR.md#72-crl-profile">Baseline Requirements</a> before they are signed by our issuing intermediates. Although the popular linting library <a href="https://github.com/zmap/zlint">zlint</a> does not yet support linting CRLs, we have written our own <a href="https://github.com/letsencrypt/boulder/blob/release-2022-08-29/linter/lints/crl/lints.go">collection of checks</a> and hope to upstream them to zlint in the future. These checks will help prevent compliance incidents and ensure a seamless issuance and renewal cycle.</p>
<p>As part of developing these new capabilities, we have also made <a href="https://go-review.googlesource.com/c/go/&#43;/414877">several</a> <a href="https://go-review.googlesource.com/c/go/&#43;/416354">improvements</a> to the Go standard library&rsquo;s implementation of CRL generation and parsing. We look forward to contributing more improvements as we and the rest of the Go community work with CRLs more frequently in the future.</p>
<p>Although we will be producing CRLs which cover all certificates that we issue, we will not be including those URLs in the CRL Distribution Point extension of our certificates. For now, as required by the Baseline Requirements, our certificates will continue to include an OCSP URL which can be used by anyone to obtain revocation information for each certificate. Our new CRL URLs will be disclosed only in CCADB, so that the Apple and Mozilla root programs can consume them without exposing them to potentially large download traffic from the rest of the internet at large.</p>
<h1 id="the-future-of-revocation">The Future of Revocation</h1>
<p>There&rsquo;s still a long way to go before revocation in the Web PKI is truly fixed. The privacy concerns around OCSP will only be mitigated once all clients have stopped relying on it, and we still need to develop good ways for non-browser clients to reliably check revocation information.</p>
<p>We look forward to continuing to work with the rest of the Web PKI community to make revocation checking private, reliable, and efficient for everyone.</p>
<p>If you&rsquo;re excited about our work developing more robust and private revocation mechanisms, you can support us with a <a href="https://letsencrypt.org/donate/">donation</a>, or encourage your company or organization to <a href="https://www.abetterinternet.org/sponsor/">sponsor</a> our work. As a nonprofit project, 100% of our funding comes from contributions from our community and supporters, and we depend on your support.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/09/07/new-life-for-crls.html</guid>
      </item><item>
        <title>Nurturing Continued Growth of Our Oak CT Log</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/05/19/nurturing-ct-log-growth.html</link>
        <pubDate>Thu, 19 May 2022 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>Let&rsquo;s Encrypt has been running a Certificate Transparency (CT) log since 2019 as part of our commitment to keeping the Web PKI ecosystem healthy. CT logs have become important infrastructure for an encrypted Web <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>, but have a well-deserved reputation for being difficult to operate at high levels of trust: Only 6 organizations run logs that are currently considered to be &ldquo;qualified.&rdquo; <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p>Our <a href="/2019/05/15/introducing-oak-ct-log.html">Oak</a> log is the only qualified CT log that runs on an entirely open source stack <sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>. In the interest of lowering the barrier for other organizations to join the CT ecosystem, we want to cover a few recent changes to Oak that might be helpful to anyone else planning to launch a log based on Google&rsquo;s Trillian backed by MariaDB:</p>
<ul>
<li>
<p>The disk I/O workload of Trillian atop MariaDB is easily mediated by front-end rate limits, and</p>
</li>
<li>
<p>It&rsquo;s worth the complexity to split each new annual CT log into its own Trillian/MariaDB stack.</p>
</li>
</ul>
<p>This post will update some of the information from the previous post <a href="/2019/11/20/how-le-runs-ct-logs.html">How Let&rsquo;s Encrypt Runs CT Logs</a>.</p>
<h1 id="growing-oak-while-staying-open-source">Growing Oak While Staying Open Source</h1>
<p>Oak runs on a free and open source stack: Google&rsquo;s Trillian data store, backed by MariaDB, running at Amazon Web Services (AWS) via <a href="https://aws.amazon.com/rds/">Amazon&rsquo;s Relational Database Service</a> (RDS). To our knowledge, Oak is the only trusted CT log without closed-source components <sup id="fnref:3-second"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>.</p>
<p><img src="/images/2022.05.19-open_source_stack.png" alt=""></p>
<div class='blog-image-caption'>Open Source Stack</div>
<p>Other operators of Trillian have opted to use different databases which segment data differently, but the provided MySQL-compatible datastore has successfully kept up with Let&rsquo;s Encrypt&rsquo;s CT log volume (currently above 400 GB per month). The story for scaling Oak atop MariaDB is quite typical for any relational database, though the performance requirements are stringent.</p>
<h1 id="keeping-oak-qualified">Keeping Oak Qualified</h1>
<p>The policies that Certificate Transparency Log operators follow require there to be no significant downtime, in addition to the more absolute and difficult requirement that the logs themselves make no mistakes: Given the append-only nature of Certificate Transparency, seemingly minor data corruption prompts permanent disqualification of the log <sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>. To minimize the impacts of corruption, as well as for scalability reasons, it&rsquo;s become normal for CT logs to distribute the certificates they contain in different, smaller individual CT logs, called shards.</p>
<h1 id="splitting-many-years-of-data-among-many-trees">Splitting Many Years Of Data Among Many Trees</h1>
<p>The Let&rsquo;s Encrypt Oak CT log is actually made up of many individual CT log shards each named after a period of time: Oak 2020 contains certificates which expired in 2020; Oak 2022 contains certificates which expire in 2022. For ease of reference, we refer to these as &ldquo;temporal log shards,&rdquo; though in truth each is an individual CT log sharing the Oak family name.</p>
<p>It is straightforward to configure a single Trillian installation to support multiple CT log shards. Each log shard is allocated storage within the backing database, and the Trillian Log Server can then service requests for all configured logs.</p>
<p>The <a href="https://github.com/google/trillian/blob/master/storage/mysql/schema/storage.sql">Trillian database schema</a> is quite compact and easy to understand:</p>
<ul>
<li>
<p>Each configured log gets a Tree ID, with metadata in several tables.</p>
</li>
<li>
<p>All log entries &ndash; certificates in our case &ndash; get a row in LeafData.</p>
</li>
<li>
<p>Entries that haven&rsquo;t been sequenced yet get a row in the table Unsequenced, which is normally kept empty by the Trillian Log Signer service.</p>
</li>
<li>
<p>Once sequenced, entries are removed from the Unsequenced table and added as a row in SequencedLeafData.</p>
</li>
</ul>
<p><img src="/images/2022.05.19-database_layout.png" alt=""></p>
<div class='blog-image-caption'>Database Layout</div>
<p>In a nutshell: No matter how many different certificate transparency trees and subtrees you set up for a given copy of Trillian, all of them will store the lion&rsquo;s share of their data, particularly the DER-encoded certificates themselves, interwoven into the one LeafData table. Since Trillian Log Server can only be configured with a single MySQL connection URI, limiting it to a single database, that single table can get quite big.</p>
<p>For Oak, the database currently grows at a rate of about 400 GB per month; that rate is ever-increasing as the use of TLS grows and more Certificate Authorities submit their certificates to our logs.</p>
<h1 id="amazon-rds-size-limitations">Amazon RDS Size Limitations</h1>
<p>In March 2021 <a href="https://groups.google.com/a/chromium.org/g/ct-policy/c/madcUcQZ1IQ/m/AeYuAvc6BAAJ">we discovered</a> that Amazon RDS has a <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/MySQL.KnownIssuesAndLimitations.html#MySQL.Concepts.Limits.FileSize">16TB limit per tablespace</a> when RDS is configured to use one file-per-table, as we were doing for all of our CT log shards. Luckily, we reached this limit first in our testing environment, the Testflume log.</p>
<p>Part of Testflume&rsquo;s purpose was to grow ahead of the production logs in total size, as well as test growth with more aggressive configuration options than the production Oak log had, and in these ways it was highly successful.</p>
<h1 id="revisiting-database-design">Revisiting Database Design</h1>
<p>In our blog post, <a href="/2019/11/20/how-le-runs-ct-logs.html">How Let&rsquo;s Encrypt Runs CT Logs</a>, we wrote that each year we planned &ldquo;to freeze the previous year&rsquo;s shard and move it to a less expensive serving infrastructure, reclaiming its storage for our live shards.&rdquo; However, that is not practical while continuing to serve traffic from the same database instance. Deleting terabytes of rows from an InnoDB table that is in-use is not feasible. Trillian&rsquo;s MySQL-compatible storage backend agrees: as implemented, Trillian&rsquo;s built-in <a href="https://github.com/google/trillian/blob/ca034c8b86dfbd60d069c51ffae9956c73cd800b/server/admin/admin_server.go#L161-L167">Tree Deletion mechanism</a> marks a tree as <a href="https://github.com/google/trillian/blob/ca034c8b86dfbd60d069c51ffae9956c73cd800b/storage/mysql/admin_storage.go#L348-L359">&ldquo;soft deleted,&quot;</a> and leaves the removal of data from the LeafData table (and others) as an exercise for the administrator.</p>
<p>Since Trillian&rsquo;s MySQL-compatible backend does not support splitting the LeafData among multiple tables by itself, and since deleting stale data from those tables yields slow performance across the whole database server, to continue to scale the Oak CT log we have to instead prune out the prior seasons' data another way.</p>
<h2 id="single-rds-instance-with-distinct-schema-per-log-shard">Single RDS Instance with Distinct Schema per Log Shard</h2>
<p>We considered adding new database schemas to our existing MariaDB-backed Amazon RDS instance. In this design, we would run a Trillian CT Front-End (CTFE) instance per temporal log shard, each pointing to individual Trillian Log Server and Log Signer instances, which themselves point to a specific temporally-identified database schema name and tablespace. This is cost-effective, and it gives us ample room to avoid the 16 TB limit.</p>
<p><img src="/images/2022.05.19-one_schema_per_shard.png" alt=""></p>
<div class='blog-image-caption'>Distinct Schema per Log Shard in a Single Database</div>
<p>However, if heavy maintenance is required on any part of the underlying database, it would affect every log shard contained within. In particular, we know from using MariaDB with InnoDB inside the Let&rsquo;s Encrypt CA infrastructure that truncating and deleting a multi-terabyte table causes performance issues for the whole database while the operation runs. Inside the CA infrastructure we mitigate that performance issue by deleting table data only on database replicas; this is more complicated in a more hands-off managed hosting environment like RDS.</p>
<p>Since we wish to clear out old data regularly as a matter of data hygiene, and the performance requirements for a CT log are strict, this option wasn&rsquo;t feasible.</p>
<h2 id="distinct-rds-instance-per-log-shard">Distinct RDS Instance per Log Shard</h2>
<p>While it increases the number of managed system components, it is much cleaner to give each temporal log shard its own database instance. Like the Distinct Schema per Log Shard model, we now run Trillian CTFE, Log Server, and Log Signer instances for each temporal log shard. However, each log shard gets its own RDS instance for the active life of the log <sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>. At log shutdown, the RDS instance is simply deprovisioned.</p>
<p><img src="/images/2022.05.19-database_per_shard.png" alt=""></p>
<div class='blog-image-caption'>Using Distinct Databases Per Log</div>
<p>With the original specifications for the Oak log, this would require allocating a significant amount of data I/O resources. However, years of experience running the Testflume log showed that Trillian in AWS did not require the highest possible disk performance.</p>
<h2 id="tuning-iops">Tuning IOPS</h2>
<p>We launched Oak using the highest performance AWS Elastic Block Storage available at the time: <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html">Provisioned IOPS SSDs (type io1)</a>. Because of the strict performance requirements on CT logs, we worried that without the best possible performance for disk I/O that latency issues might crop up that could lead to disqualification. As we called out in our blog post <a href="/2019/11/20/how-le-runs-ct-logs.html">How Let&rsquo;s Encrypt Runs CT Logs</a>, we hoped that we could use a simpler storage type in the future.</p>
<p>To test that, we used <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html">General Purpose SSD storage type</a> (type gp2) for our testing CT log, Testflume, and obtained nominal results over the lifespan of the log. In practice higher performance was unnecessary because Trillian makes good use of database indices. Downloading the whole log tree from the first leaf entry is the most significant demand of disk I/O, and that manner of operation is easily managed via rate limits at the load balancer layer.</p>
<p>Our 2022 and 2023 Oak shards now use type gp2 storage and are performing well.</p>
<p>Synergistically, the earlier change to run a distinct RDS instance for each temporal log shard has also further reduced Trillian&rsquo;s I/O load: A larger percentage of the trimmed-down data fits in MariaDB&rsquo;s in-memory buffer pool.</p>
<h1 id="more-future-improvements">More Future Improvements</h1>
<p>It&rsquo;s clear that CT logs will continue to accelerate their rate of growth. Eventually, if we remain on this architecture, even a single year&rsquo;s CT log will exceed the 16 TB table size limit. In advance of that, we&rsquo;ll have to take further actions. Some of those might be:</p>
<ul>
<li>
<p>Change our temporal log sharding strategy to shorter-than-year intervals, perhaps every 3 or 6 months.</p>
</li>
<li>
<p>Reduce the absolute storage requirements for Trillian&rsquo;s MySQL-compatible storage backend by de-duplicating intermediate certificates.</p>
</li>
<li>
<p>Contribute a patch to add table sharding to Trillian&rsquo;s MySQL-compatible storage backend.</p>
</li>
<li>
<p>Change storage backends entirely, perhaps to a sharding-aware middleware, or another more horizontally-scalable open-source system.</p>
</li>
</ul>
<p>We&rsquo;ve also <a href="https://groups.google.com/a/chromium.org/g/ct-policy/c/CLBlt5rSsAk/m/DDDpvM4dAQAJ">uprooted our current Testflume CT log</a> and brought online a replacement which we&rsquo;ve named Sapling. As before, this test-only log will evaluate more aggressive configurations that might bear fruit in the future.</p>
<h1 id="as-always-scaling-data-is-the-hard-part">As Always, Scaling Data Is The Hard Part</h1>
<p>Though the performance requirements for CT logs are strict, the bulk of the scalability difficulty has to do with the large amount of data and the high and ever-increasing rate of growth; this is the way of relational databases. Horizontal scaling continues to be the solution, and is straightforward to apply to the open source Trillian and MariaDB stack.</p>
<h2 id="supporting-let-s-encrypt">Supporting Let’s Encrypt</h2>
<p>As a nonprofit project, 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our services for the public benefit. If your
company or organization would like to <a href="https://www.abetterinternet.org/sponsor/">sponsor</a> Let’s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="/letsencrypt-ewebsite/donate/" hreflang="en-US">donation</a>, we ask that you make an individual contribution.</p>
<br />
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Chrome and Safari check that certificates include evidence that certificates were submitted to CT logs. If a certificate is lacking that evidence, it won&rsquo;t be trusted. <a href="https://certificate.transparency.dev/useragents/">https://certificate.transparency.dev/useragents/</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>As of publication, these organizations have logs Google Chrome considers qualified for Certificate Authorities to embed their signed timestamps: Cloudflare, DigiCert, Google, Let&rsquo;s Encrypt, Sectigo, and TrustAsia. <a href="https://ct.cloudflare.com/logs">https://ct.cloudflare.com/logs</a> and <a href="https://twitter.com/__agwa/status/1527407151660122114">https://twitter.com/__agwa/status/1527407151660122114</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>DigiCert&rsquo;s Yeti CT log deployment at AWS <a href="https://groups.google.com/a/chromium.org/g/ct-policy/c/EKB9ycLsMk0/m/zMq4Kmd_BgAJ">uses a custom Apache Cassandra backend</a>; Oak is the only production log using the Trillian project&rsquo;s MySQL-compatible backend. SSLMate maintains a list of known log software at <a href="https://sslmate.com/labs/ct_ecosystem/ecosystem.html">https://sslmate.com/labs/ct_ecosystem/ecosystem.html</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p>In the recent past, a cosmic ray event led to the disqualification of a CT log. Andrew Ayer has a good discussion of this in his post &ldquo;How Certificate Transparency Logs Fail and Why It&rsquo;s OK&rdquo; <a href="https://www.agwa.name/blog/post/how_ct_logs_fail">https://www.agwa.name/blog/post/how_ct_logs_fail</a>, which references the discovery on the ct-policy list <a href="https://groups.google.com/a/chromium.org/g/ct-policy/c/PCkKU357M2Q/m/xbxgEXWbAQAJ">https://groups.google.com/a/chromium.org/g/ct-policy/c/PCkKU357M2Q/m/xbxgEXWbAQAJ</a>\&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p>Logs remain online for a period after they stop accepting new entries to give a grace period for mirrors and archive activity.&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/05/19/nurturing-ct-log-growth.html</guid>
      </item><item>
        <title>TLS Beyond the Web: How MongoDB Uses Let’s Encrypt for Database-to-Application Security</title>
        <link>https://qubitpi.github.io/letsencrypt-ewebsite/2022/04/28/database-to-app-tls.html</link>
        <pubDate>Thu, 28 Apr 2022 00:00:00 +0000</pubDate>
        <description><![CDATA[<p>Most of the time, people think about using Let&rsquo;s Encrypt certificates to encrypt the communication between a website and server. But connections that need TLS are everywhere! In order for us to have an Internet that is 100% encrypted, we need to think beyond the website.</p>
<p>MongoDB&rsquo;s managed multicloud database service, called Atlas, uses Let&rsquo;s Encrypt certificates to secure the connection between customers' applications and MongoDB databases, and between service points inside the platform. We spoke with Kenn White, Security Principal at MongoDB, about how his team uses Let&rsquo;s Encrypt certificates for over two million databases, across 200 datacenters and three cloud providers.</p>
<p>&quot;Let&rsquo;s Encrypt has become a core part of our infrastructure stack,&quot; said Kenn. Interestingly, our relationship didn&rsquo;t start out that way. MongoDB became a financial sponsor of Let&rsquo;s Encrypt years earlier simply to support our mission to pursue security and privacy. MongoDB Atlas began to take off and it became clear that TLS would continue to be a priority as they brought on customers like currency exchanges, treasury platforms and retail payment networks. &quot;The whole notion of high automation and no human touch all really appealed to us,&quot; said Kenn of MongoDB&rsquo;s decision to use Let&rsquo;s Encrypt.</p>
<p>MongoDB&rsquo;s diverse customer roster means they support a wide variety of languages, libraries, and operating systems. Consequently, their monitoring is quite robust. Over the years, MongoDB has become a helpful resource for Let&rsquo;s Encrypt engineers to identify edge case implementation bugs. Their ability to accurately identify issues early helps us respond efficiently; this is a benefit that ripples out across our diverse subscribers all over the Web.</p>
<p>The open sharing of information is a core part of how Let&rsquo;s Encrypt operates. In fact, &quot;transparency&quot; is one of our <a href="/letsencrypt-ewebsite/about/" hreflang="en-US">key operating principles</a>. The ability to see and understand how Let&rsquo;s Encrypt is changing helped MongoDB gain trust and confidence in our operations. &quot;I don&rsquo;t think you can really put a price on the experience we&rsquo;ve had working with the Let&rsquo;s Encrypt engineering team,&quot; said Kenn. &quot;One thing that I appreciate about Let&rsquo;s Encrypt is that you&rsquo;ve always been extremely transparent on your priorities and your roadmap vision. In terms of the technology and your telemetry, this is an evolution; where you are today is far better than where you were two years ago. And two years ago you were already head and shoulders above almost every peer in the industry.&quot;</p>
<p>Check out other blog posts in this series about how other large subscribers use Let&rsquo;s Encrypt certificates.</p>
<p><a href="/2021/10/28/tls-simply-and-automatically.html">TLS Simply and Automatically for Europe&rsquo;s Largest Cloud Customers</a></p>
<p><a href="/2021/09/14/speed-at-scale-shopify.html">Speed at scale: Let&rsquo;s Encrypt serving Shopify&rsquo;s 4.5 million domains</a></p>
<h2 id="supporting-let-s-encrypt">Supporting Let’s Encrypt</h2>
<p>As a nonprofit project, 100% of our funding comes from contributions from our community of users and supporters. We depend on their support in order to provide our services for the public benefit. If your
company or organization would like to <a href="https://www.abetterinternet.org/sponsor/">sponsor</a> Let’s Encrypt please email us at <a href="mailto:sponsor@letsencrypt.org">sponsor@letsencrypt.org</a>. If you can support us with a <a href="/letsencrypt-ewebsite/donate/" hreflang="en-US">donation</a>, we ask that you make an individual contribution.</p>]]></description>
        <guid isPermaLink="true">https://qubitpi.github.io/letsencrypt-ewebsite/2022/04/28/database-to-app-tls.html</guid>
      </item>
  </channel>
</rss>
