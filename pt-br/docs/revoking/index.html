<!DOCTYPE html>
<html
	dir="ltr"
	lang="pt-BR">
	
	
	
		<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Revogando Certificados -  Let&#39;s Encrypt - Certificados SSL/TLS Gratuitos</title>
    <meta name="description" content="Quando a chave privada correspondente a um certificado não é mais segura você deve revogar o certificado. Isso pode acontecer devido a algumas diferentes razões. Por exemplo, você pode compartilhar acidentalmente a chave privada em um site público, hackers podem copiar a sua chave privada em seus servidores, ou podem assumir controle temporário sobre os seus servidores ou sua configuração DNS e usar isso para validar e emitir um certificado para o qual eles têm posse da chave privada.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@letsencrypt">
    <meta name="twitter:title" content="Revogando Certificados">
    <meta name="twitter:url" content="https://letsencrypt.org/pt-br/docs/revoking/">
    <meta name="twitter:description" content="Quando a chave privada correspondente a um certificado não é mais segura você deve revogar o certificado. Isso pode acontecer devido a algumas diferentes razões. Por exemplo, você pode compartilhar acidentalmente a chave privada em um site público, hackers podem copiar a sua chave privada em seus servidores, ou podem assumir controle temporário sobre os seus servidores ou sua configuração DNS e usar isso para validar e emitir um certificado para o qual eles têm posse da chave privada.">
    <meta name="twitter:image:src" content="https://letsencrypt.org/images/le-logo-twitter-noalpha.png">
    <meta name="og:image" content="https://letsencrypt.org/images/LetsEncrypt-SocialShare.png">

    
    <link rel="stylesheet" href="/css/main.min.6791249091d19b45fdcb90a60bdc1d673e0fa8014336e38e91d9017427824807933b14f5d5af8403308998662afcdf07b5be942bb9087d7cfbfdb5da709822a5.css" integrity="sha512-Z5EkkJHRm0X9y5CmC9wdZz4PqAFDNuOOkdkBdCeCSAeTOxT11a&#43;EAzCJmGYq/N8Htb6UK7kIfXz7/bXacJgipQ==">

    <link rel="stylesheet" href="/fontawesome-free-5.12.1-web/css/all.min.css" />
    
    <link rel="canonical" href="/pt-br/docs/revoking/">
    
    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Feed do blog Let&#39;s Encrypt" />
    
    
</head>

	
	<body>
		
<header class="site-header">
  <a id="skiplink" href="#main-content">Pular links de navegação</a>
  <div class="wrapper">
    <a class="site-title" href="/pt-br/"><img src="/images/letsencrypt-logo-horizontal.svg" alt="Let's Encrypt"></a>

    <span id="menuIcon">
      <i class="fas fa-bars"></i>
    </span>
    <nav class="site-nav" id="menu">
      <div class="pure-menu pure-menu-horizontal custom-can-transform">
        <ul class="pure-menu-list">
          
          <li class="pure-menu-item">
            <a href="/pt-br/docs/" class="pure-menu-link" tabindex="0">Documentação</a>
            
          </li>
          
          <li class="pure-menu-item">
            <a href="https://community.letsencrypt.org/c/help/ajuda-em-portugues" class="pure-menu-link" tabindex="0">Obter Ajuda</a>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">Doar</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/pt-br/donate/" class="pure-menu-link">Faça uma doação</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/sponsor/" class="pure-menu-link">Torne-se um Patrocinador</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/pt-br/sponsors/" class="pure-menu-link">Atuais Patrocinadores e Doadores</a>
              </li>
              
            </ul>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">Sobre Nós</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/pt-br/about/" class="pure-menu-link">Let&#39;s Encrypt</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/about/" class="pure-menu-link">Internet Security Research Group (ISRG)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/pt-br/docs/dst-root-ca-x3-expiration-september-2021/" class="pure-menu-link">DST Root CA X3 Expiration (September 2021)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/pt-br/docs/faq/" class="pure-menu-link">Perguntas Frequentes (FAQ)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://letsencrypt.status.io/" class="pure-menu-link">Status do Serviço</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/pt-br/stats/" class="pure-menu-link">Estatísticas</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/careers/" class="pure-menu-link">Carreiras</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/pt-br/contact/" class="pure-menu-link">Contato</a>
              </li>
              
            </ul>
            
          </li>
          
          
          
          
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">Idiomas <img src="/images/language-icon128px-black.png" class="inline-icon" alt="" aria-hidden="true"></a>
            <ul class="pure-menu-children menu-for-languages">
              
              
              <li class="pure-menu-item">
                <a href="/docs/revoking/" lang="en-US" hreflang="en-US" class="pure-menu-link">English</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/da/docs/revoking/" lang="da" hreflang="da" class="pure-menu-link">Dansk</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/de/docs/revoking/" lang="de-DE" hreflang="de-DE" class="pure-menu-link">Deutsch</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/es/docs/revoking/" lang="es-US" hreflang="es-US" class="pure-menu-link">Español</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/fi/docs/revoking/" lang="fi" hreflang="fi" class="pure-menu-link">Suomi</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/fr/docs/revoking/" lang="fr-FR" hreflang="fr-FR" class="pure-menu-link">Français</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/he/docs/revoking/" lang="he" hreflang="he" class="pure-menu-link">עברית</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/hu/docs/revoking/" lang="hu" hreflang="hu" class="pure-menu-link">Hungarian</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/id/docs/revoking/" lang="id-ID" hreflang="id-ID" class="pure-menu-link">Bahasa Indonesia</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/it/docs/revoking/" lang="it-IT" hreflang="it-IT" class="pure-menu-link">Italiano</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ja/docs/revoking/" lang="ja" hreflang="ja" class="pure-menu-link">日本語</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ko/docs/revoking/" lang="ko-KR" hreflang="ko-KR" class="pure-menu-link">한국어</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/pt-br/docs/revoking/" lang="pt-BR" hreflang="pt-BR" class="pure-menu-link">✓ Português do Brasil</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ru/docs/revoking/" lang="ru-RU" hreflang="ru-RU" class="pure-menu-link">Русский</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/si/docs/revoking/" lang="si" hreflang="si" class="pure-menu-link">සිංහල</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/sr/docs/revoking/" lang="sr" hreflang="sr" class="pure-menu-link">Srpski</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/sv/docs/revoking/" lang="sv" hreflang="sv" class="pure-menu-link">Svenska</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/uk/docs/revoking/" lang="uk-UA" hreflang="uk-UA" class="pure-menu-link">Українська</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/vi/docs/revoking/" lang="vi-VN" hreflang="vi-VN" class="pure-menu-link">Tiếng Việt</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/zh-cn/docs/revoking/" lang="zh-Hans-CN" hreflang="zh-Hans-CN" class="pure-menu-link">简体中文</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/zh-tw/docs/revoking/" lang="zh-Hant-TW" hreflang="zh-Hant-TW" class="pure-menu-link">繁體中文</a>
              </li>
              
            </ul>
          </li>
          
        </ul>
      </div>
    </nav>
  </div>
</header>
<div id="site-banner">
  <a href="https://abetterinternet.org/tenth-anniversary">ISRG celebrates 10 years of helping build a brighter Internet →</a>
</div>
<div id="main-content"></div>


		

<div class="hero slim" style="background-image: url('/images/1.jpg');">
<div class="container">
	<h1>Revogando Certificados</h1>
</div>
</div>

<div class="page-content">
	<div class="wrapper">



<script src="/js/i18n.js" defer async></script>



<p>

    
    Última atualização: <time datetime="2021-08-03">Aug 3, 2021</time>


 | <a href="/pt-br/docs">Ver Documentação completa</a>
</p>





    
        
               
            
            <p>
                <i>
                    Nota: A versão em Inglês foi atualizada desde a última tradução desta página.
                    (<time datetime="2021-10-15">Oct 15, 2021</time>)
                    <a href="/docs/revoking/">Visualizar em Inglês</a>
                </i>
            </p>
            
        
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    



<p>Quando a chave privada correspondente a um certificado não é mais segura você deve revogar o certificado. Isso pode acontecer devido a algumas diferentes razões. Por exemplo, você pode compartilhar acidentalmente a chave privada em um site público, hackers podem copiar a sua chave privada em seus servidores, ou podem assumir controle temporário sobre os seus servidores ou sua configuração DNS e usar isso para validar e emitir um certificado para o qual eles têm posse da chave privada.</p>
<p>Quando você revoga um certificado Let&rsquo;s Encrypt, a Let&rsquo;s Encrypt publicará esta informação de revogação através do <a href="https://en.wikipedia.org/wiki/Online_Certificate_Status_Protocol">Online Certificate Status Protocol (OCSP)</a> (Inglês) e alguns navegadores checam o OCSP para decidir se devem confiar ou não em um certificado. Note que o OCSP <a href="https://www.imperialviolet.org/2011/03/18/revocation.html">tem alguns problemas fundamentais</a>, então nem todos os navegadores farão essa checagem. Mesmo assim, revogar certificados que correspondem a chaves privadas comprometidas é uma prática importante, e isso é requerido no <a href="/pt-br/repository/" hreflang="pt-BR">Subscriber Agreement</a> da Let&rsquo;s Encrypt.</p>
<p>Para revogar um certificado com a Let&rsquo;s Encrypt, você precisará usar a <a href="https://github.com/letsencrypt/boulder/blob/master/docs/acme-divergences.md">API ACME</a> (Inglês), muito provavelmente através de um cliente ACME como o <a href="https://certbot.eff.org/">Certbot</a>. Você precisará provar para a Let&rsquo;s Encrypt que você está autorizado a revogar o certificado. Abaixo estão as três formas de fazer isso:</p>
<h1 id="a-partir-da-conta-que-emitiu-o-certificado">A partir da conta que emitiu o certificado</h1>
<p>Se você originalmente emitiu o certificado e ainda possui controle da conta que usou para fazer isso, você pode revogá-lo usando suas credenciais da conta. O Certbot tentará fazer isso por padrão. Exemplo:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">certbot revoke --cert-path /etc/letsencrypt/archive/<span class="si">${</span><span class="nv">YOUR_DOMAIN</span><span class="si">}</span>/cert1.pem --reason keycompromise
</code></pre></div><h1 id="usando-a-chave-privada-do-certificado">Usando a chave privada do certificado</h1>
<p>Se você não for o emissor original do certificado mas possui uma cópia da chave privada correspondente, você pode revogá-lo usando esta chave privada para assinar a solicitação de revogação. Por exemplo, se você notar que a chave privada foi publicada acidentalmente, você pode usar este método para revogar certificados que usaram esta chave privada, mesmo que você não seja a pessoa que originalmente emitiu estes certificados.</p>
<p>Para usar este método você precisará primeiro fazer o download do certificado a ser revogado. A Let&rsquo;s Encrypt registra todos os certificados em <a href="https://www.certificate-transparency.org/">Certificate Transparency</a> (Inglês), então você pode encontrar e fazer o download de certificados usando um monitor de registros como <a href="https://crt.sh/">crt.sh</a>.</p>
<p>Você também precisará de uma cópia da chave privada no formato PEM. Uma vez que tiver isso em mãos você poderá revogar o certificado assim:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">certbot revoke --cert-path /PATH/TO/cert.pem --key-path /PATH/TO/key.pem --reason keycompromise
</code></pre></div><h1 id="usando-uma-conta-autorizada-diferente">Usando uma conta autorizada diferente</h1>
<p>Se alguém emitiu um certificado após o comprometimento do seu servidor ou DNS, você vai querer revogar este certificado uma vez que recuperar o controle. Para revogar o certificado a Let&rsquo;s Encrypt precisará garantir que você controla os nomes de domínio naquele certificado (senão qualquer pessoa poderia revogar o certificado dos outros sem permissão!). Para validar este controle, a Let&rsquo;s Encrypt usa os mesmos métodos que usa para validar o controle durante a emissão: você pode colocar um <a href="https://tools.ietf.org/html/rfc8555#section-8.4">valor em um registro TXT no DNS</a> (Inglês), colocar um <a href="https://tools.ietf.org/html/rfc8555#section-8.3">arquivo num servidor HTTP</a> (Inglês). Normalmente um cliente ACME cuidará disso por você. Note que a maioria dos clientes ACME combinar a validação e emissão, então a única forma de solicitar validações é tentando emitir. Você pode então revogar o certificado gerado se você não quise-lo ou simplesmente destruir a chave privada. Se você quiser evitar completamente a emissão de um certificado você pode inserir um nome de domínio inexistente na sua linha de comando, o que irá fazer a emissão falhar enquanto ainda consegue validar os outros nomes de domínio existentes. Para fazer isso execute:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">certbot certonly --manual --preferred-challenges<span class="o">=</span>dns -d <span class="si">${</span><span class="nv">YOUR_DOMAIN</span><span class="si">}</span> -d nonexistent.<span class="si">${</span><span class="nv">YOUR_DOMAIN</span><span class="si">}</span>
</code></pre></div><p>E siga as instruções. Se você prefere validar usando HTTP ao invés de DNS, substitua a flag <code>--preferred-challenges</code> por <code>--preferred-challenges=http</code>.</p>
<p>Uma vez que você tenha validado o controle sobre todos os nomes de domínio no certificado que você quer revogar, você pode fazer o download do certificado em <a href="https://crt.sh/">crt.sh</a> (Inglês) e então proceder com a revogação do certificado como se você o tivesse emitido:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">certbot revoke --cert-path /PATH/TO/downloaded-cert.pem --reason keycompromise
</code></pre></div></div>
</div>
		


<footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-2">
        <p>  Let's Encrypt é uma autoridade certificadora gratuita, automatizada e aberta
  que se tornou possível graças à organização sem fins lucrativos <a href="https://www.abetterinternet.org/">Internet Security Research Group (ISRG)</a>
</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">548 Market St, PMB 77519</span>,
            <span itemprop="addressLocality">San Francisco</span>,
            <span itemprop="addressRegion">CA</span>
            <span itemprop="postalCode">94104-5401</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
        <p>Envie todas as cartas ou perguntas para:</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">PO Box 18666</span>,
            <span itemprop="addressLocality">Minneapolis</span>,
            <span itemprop="addressRegion">MN</span>
            <span itemprop="postalCode">55418-0666</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
      </div>

      <div class="footer-col  footer-col-1">
        <ul class="social-media-list">
          
          <li>
            <i class="fab fa-github" aria-hidden="true"></i>
            <a href="https://github.com/letsencrypt">
              <span class="username">GitHub</span>
            </a>
          </li>
          

          
          <li>
            <i class="fab fa-twitter" aria-hidden="true"></i>
            <a href="https://twitter.com/letsencrypt">
              <span class="username">Twitter</span>
            </a>
          </li>
         
          
          <li>
            <i class="fab fa-mastodon" aria-hidden="true"></i>
            <a rel="me" href="https://infosec.exchange/@letsencrypt">
              <span class="username">Mastodon</span>
            </a>
          </li>
         
        </ul>
        Veja nossa <a href="/pt-br/privacy/">política de privacidade</a>.<br>
Veja nossa <a href="https://www.abetterinternet.org/trademarks/">política de direitos autorais</a>.

      </div>

      <div class="footer-col footer-newsletter-col  footer-col-3">
        <h6>Subscribe to our Newsletter</h6>
        <iframe src="https://outreach.abetterinternet.org/l/1011011/2023-02-16/6l51" height="200" style="width: 100%; border: 0"></iframe>
      </div>
    </div>

  </div>

</footer>



<script src="/js/main.9c0b9add2dc0db21de0f695103830dbde01e31d77fa9a2db9ac3c1b9e09e4806f2e0d9a7281b06461b2e162a3560c605b038169b42ff376b4cd28cc71203c8f0.js" integrity="sha512-nAua3S3A2yHeD2lRA4MNveAeMdd/qaLbmsPBueCeSAby4NmnKBsGRhsuFio1YMYFsDgWm0L/N2tM0ozHEgPI8A=="></script>

	</body>
</html>
