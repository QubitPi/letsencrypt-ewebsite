<!DOCTYPE html>
<html
	dir="ltr"
	lang="ru-RU">
	
	
	
		<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Авторизация в Центре сертификации (CAA) -  Let&#39;s Encrypt</title>
    <meta name="description" content="CAA — это тип DNS-записи, который позволяет владельцам сайтов указывать, какие Центры сертификации (CA) могут выдавать сертификаты, содержащие их доменные имена. Она была стандартизирована в 2013 году в RFC 6844, чтобы позволить Центру сертификации &amp;ldquo;уменьшить риск непреднамеренного ошибочного выпуска сертификата&amp;rdquo;. По умолчанию каждый публичный Центр сертификации имеет право выпускать сертификаты для любого доменного имени в общедоступном DNS при условии, что контроль над этим доменным именем подтвержден. Это означает, что возможный баг в одном из множества проверочных процессов Центров сертификации потенциально может затронуть каждое доменное имя.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@letsencrypt">
    <meta name="twitter:title" content="Авторизация в Центре сертификации (CAA)">
    <meta name="twitter:url" content="https://letsencrypt.org/ru/docs/caa/">
    <meta name="twitter:description" content="CAA — это тип DNS-записи, который позволяет владельцам сайтов указывать, какие Центры сертификации (CA) могут выдавать сертификаты, содержащие их доменные имена. Она была стандартизирована в 2013 году в RFC 6844, чтобы позволить Центру сертификации &amp;ldquo;уменьшить риск непреднамеренного ошибочного выпуска сертификата&amp;rdquo;. По умолчанию каждый публичный Центр сертификации имеет право выпускать сертификаты для любого доменного имени в общедоступном DNS при условии, что контроль над этим доменным именем подтвержден. Это означает, что возможный баг в одном из множества проверочных процессов Центров сертификации потенциально может затронуть каждое доменное имя.">
    <meta name="twitter:image:src" content="https://letsencrypt.org/images/le-logo-twitter-noalpha.png">
    <meta name="og:image" content="https://letsencrypt.org/images/LetsEncrypt-SocialShare.png">

    
    <link rel="stylesheet" href="/css/main.min.6791249091d19b45fdcb90a60bdc1d673e0fa8014336e38e91d9017427824807933b14f5d5af8403308998662afcdf07b5be942bb9087d7cfbfdb5da709822a5.css" integrity="sha512-Z5EkkJHRm0X9y5CmC9wdZz4PqAFDNuOOkdkBdCeCSAeTOxT11a&#43;EAzCJmGYq/N8Htb6UK7kIfXz7/bXacJgipQ==">

    <link rel="stylesheet" href="/fontawesome-free-5.12.1-web/css/all.min.css" />
    
    <link rel="canonical" href="/ru/docs/caa/">
    
    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Блог Let&#39;s Encrypt" />
    
    
</head>

	
	<body>
		
<header class="site-header">
  <a id="skiplink" href="#main-content">Пропустить навигационные ссылки</a>
  <div class="wrapper">
    <a class="site-title" href="/ru/"><img src="/images/letsencrypt-logo-horizontal.svg" alt="Let's Encrypt"></a>

    <span id="menuIcon">
      <i class="fas fa-bars"></i>
    </span>
    <nav class="site-nav" id="menu">
      <div class="pure-menu pure-menu-horizontal custom-can-transform">
        <ul class="pure-menu-list">
          
          <li class="pure-menu-item">
            <a href="/ru/docs/" class="pure-menu-link" tabindex="0">Документация</a>
            
          </li>
          
          <li class="pure-menu-item">
            <a href="https://community.letsencrypt.org/" class="pure-menu-link" tabindex="0">Помощь</a>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">Поддержите нас</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/ru/donate/" class="pure-menu-link">Сделайте пожертвование</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/sponsor/" class="pure-menu-link">Станьте нашим спонсором</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/sponsors/" class="pure-menu-link">Текущие спонсоры и дарители</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/getinvolved/" class="pure-menu-link">Внесите свой вклад</a>
              </li>
              
            </ul>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">О сервисе</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/ru/about/" class="pure-menu-link">Что такое Let&#39;s Encrypt</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/about/" class="pure-menu-link">Internet Security Research Group (ISRG)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/docs/dst-root-ca-x3-expiration-september-2021/" class="pure-menu-link">Окончание срока действия DST Root CA X3 (сентябрь 2021 г.)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/docs/faq/" class="pure-menu-link">Часто задаваемые вопросы (ЧЗВ)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://letsencrypt.status.io/" class="pure-menu-link">Состояние сервиса</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/stats/" class="pure-menu-link">Статистика</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/careers/" class="pure-menu-link">Карьера</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/ru/contact/" class="pure-menu-link">Контакты</a>
              </li>
              
            </ul>
            
          </li>
          
          
          
          
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">Язык <img src="/images/language-icon128px-black.png" class="inline-icon" alt="" aria-hidden="true"></a>
            <ul class="pure-menu-children menu-for-languages">
              
              
              <li class="pure-menu-item">
                <a href="/docs/caa/" lang="en-US" hreflang="en-US" class="pure-menu-link">English</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/da/docs/caa/" lang="da" hreflang="da" class="pure-menu-link">Dansk</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/de/docs/caa/" lang="de-DE" hreflang="de-DE" class="pure-menu-link">Deutsch</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/es/docs/caa/" lang="es-US" hreflang="es-US" class="pure-menu-link">Español</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/fi/docs/caa/" lang="fi" hreflang="fi" class="pure-menu-link">Suomi</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/fr/docs/caa/" lang="fr-FR" hreflang="fr-FR" class="pure-menu-link">Français</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/he/docs/caa/" lang="he" hreflang="he" class="pure-menu-link">עברית</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/hu/docs/caa/" lang="hu" hreflang="hu" class="pure-menu-link">Hungarian</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/id/docs/caa/" lang="id-ID" hreflang="id-ID" class="pure-menu-link">Bahasa Indonesia</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/it/docs/caa/" lang="it-IT" hreflang="it-IT" class="pure-menu-link">Italiano</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ja/docs/caa/" lang="ja" hreflang="ja" class="pure-menu-link">日本語</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ko/docs/caa/" lang="ko-KR" hreflang="ko-KR" class="pure-menu-link">한국어</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/pt-br/docs/caa/" lang="pt-BR" hreflang="pt-BR" class="pure-menu-link">Português do Brasil</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/ru/docs/caa/" lang="ru-RU" hreflang="ru-RU" class="pure-menu-link">✓ Русский</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/si/docs/caa/" lang="si" hreflang="si" class="pure-menu-link">සිංහල</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/sr/docs/caa/" lang="sr" hreflang="sr" class="pure-menu-link">Srpski</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/sv/docs/caa/" lang="sv" hreflang="sv" class="pure-menu-link">Svenska</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/uk/docs/caa/" lang="uk-UA" hreflang="uk-UA" class="pure-menu-link">Українська</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/vi/docs/caa/" lang="vi-VN" hreflang="vi-VN" class="pure-menu-link">Tiếng Việt</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/zh-cn/docs/caa/" lang="zh-Hans-CN" hreflang="zh-Hans-CN" class="pure-menu-link">简体中文</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="/zh-tw/docs/caa/" lang="zh-Hant-TW" hreflang="zh-Hant-TW" class="pure-menu-link">繁體中文</a>
              </li>
              
            </ul>
          </li>
          
        </ul>
      </div>
    </nav>
  </div>
</header>
<div id="site-banner">
  <a href="https://abetterinternet.org/tenth-anniversary">ISRG celebrates 10 years of helping build a brighter Internet →</a>
</div>
<div id="main-content"></div>


		

<div class="hero slim" style="background-image: url('/images/1.jpg');">
<div class="container">
	<h1>Авторизация в Центре сертификации (CAA)</h1>
</div>
</div>

<div class="page-content">
	<div class="wrapper">



<script src="/js/i18n.js" defer async></script>



<p>

    
    Последнее обновление: <time datetime="2017-07-27">27 июл. 2017 г.</time>


 | <a href="/ru/docs">Вся документация</a>
</p>





    
        
               
            
        
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    



<p>CAA — это тип DNS-записи, который позволяет владельцам сайтов указывать, какие Центры сертификации (CA) могут выдавать сертификаты, содержащие их доменные имена. Она была стандартизирована в 2013 году в <a href="https://tools.ietf.org/html/rfc6844">RFC 6844</a>, чтобы позволить Центру сертификации &ldquo;уменьшить риск непреднамеренного ошибочного выпуска сертификата&rdquo;. По умолчанию каждый публичный Центр сертификации имеет право выпускать сертификаты для любого доменного имени в общедоступном DNS при условии, что контроль над этим доменным именем подтвержден. Это означает, что возможный баг в одном из множества проверочных процессов Центров сертификации потенциально может затронуть каждое доменное имя. CAA позволяет владельцам доменов уменьшить этот риск.</p>
<h1 id="использование-caa">Использование CAA</h1>
<p>Если вам не нужна CAA, можно ничего не делать (но см. ошибки CAA ниже). Если же вы хотели бы использовать CAA, чтобы ограничить число Центров сертификации, имеющих право выпуска сертификатов для вашего домена, нужно использовать провайдера DNS, который поддерживает настройку записей CAA. Список таких провайдеров можно найти на <a href="https://sslmate.com/caa/support">странице SSLMate&rsquo;s CAA</a>. Если ваш провайдер нашелся в списке, можно использовать <a href="https://sslmate.com/caa/">генератор записей CAA SSLMate</a> для создания набора записей CAA, перечисляющих центры сертификации, которые вы хотели бы разрешить.</p>
<p>Идентифицирующее доменное имя Let&rsquo;s Encrypt&rsquo;s для CAA — <code>letsencrypt.org</code>. Это официально задокументировано <a href="/ru/repository/" hreflang="ru-RU">в нашем Положении о практике сертификации (CPS), раздел 4.2.1</a>.</p>
<h2 id="где-разместить-запись">Где разместить запись</h2>
<p>Можно разместить запись CAA на главном домене или на поддомене любого уровня. Например, если ваше доменное имя <code>www.community.example.com</code>, вы можете разместить записи CAA либо для полного имени, либо для <code>community.example.com</code>, либо для <code>example.com</code>. Центры сертификации будут проверять любую версию слева направо и остановятся, как только обнаружат любую запись CAA. Так, к примеру, запись CAA для <code>community.example.com</code> будет приоритетнее, чем запись для <code>example.com</code>. Большинство использующих записи CAA устанавливают их для зарегистрированного домена верхнего уровня (<code>example.com</code>), чтобы они действовали на все поддомены. Также обратите внимание, что записи CAA для поддоменов приоритетнее, чем записи для родительского домена, независимо от того, носят ли они разрешительный или запретительный характер. Таким образом, поддомен может не иметь ограничения, которое установлено для родительского домена.</p>
<p>Валидация CAA придерживается правил CNAMEs, как и другие DNS-запросы. Если <code>www.community.example.com</code> — это CNAME для <code>web1.example.net</code>, то Центр сертификации сперва запросит записи CAA для <code>www.community.example.com</code>, затем, обнаружив CNAME вместо записи CAA для этого доменного имени, запросит записи CAA для <code>web1.example.net</code>. Обратите внимание, что если доменное имя имеет запись CNAME, оно не может иметь никаких других записей, согласно стандартам DNS.</p>
<p><a href="https://tools.ietf.org/html/rfc6844">CAA RFC</a> определяет дополнительное поведение, называемое &ldquo;tree-climbing&rdquo;, которое требует, чтобы Центры сертификации также проверяли родительские домены для результата разрешения CNAME. Это дополнительное поведение было позже удалено в <a href="https://www.rfc-editor.org/errata/eid5065">исправлении</a>, поэтому Let&rsquo;s Encrypt и другие Центры сертификации не реализовали его.</p>
<h1 id="ошибки-caa">Ошибки CAA</h1>
<p>С тех пор как Let&rsquo;s Encrypt стал проверять записи CAA, прежде чем выпустить любой сертификат, иногда появляются ошибки даже для доменов, не имеющих никаких записей CAA. При появлении ошибки невозможно определить, разрешен ли выпуск для затронутого домена, поскольку могут существовать записи CAA, запрещающие выпуск, которые не видны из-за ошибки.</p>
<p>Если вы получаете ошибки, связанные с CAA, сделайте еще несколько попыток, используя наше <a href="/ru/docs/staging-environment/" hreflang="ru-RU">тестовое окружение</a>, чтобы определить, является ли ошибка временной или постоянной. Если она постоянна, вам нужно обратиться с запросом в службу поддержки вашего DNS-провайдера или сменить провайдера. Если вы не знаете, кто ваш DNS-провайдер, выясните это у провайдера вашего хостинга.</p>
<p>Некоторые провайдеры DNS, которые не знакомы с CAA, первоначально отвечают на сообщения о проблемах: «Мы не поддерживаем записи CAA». Вашему DNS-провайдеру не нужно специально поддерживать записи CAA; он только должен возвращать ответ NOERROR для неизвестных типов запросов (включая CAA). Возврат других кодов операций, включая NOTIMP, для нераспознанных типов запросов, является нарушением <a href="https://tools.ietf.org/html/rfc1035">RFC 1035</a> и должен быть исправлен.</p>
<h1 id="servfail">SERVFAIL</h1>
<p>Одной из самых распространенных ошибок, с которыми сталкиваются пользователи, является SERVFAIL. Чаще всего это указывает на ошибку проверки DNSSEC. Если вы получили ошибку SERVFAIL, первым делом используйте отладчик DNSSEC, например, <a href="http://dnsviz.net/">dnsviz.net</a>. Если это не помогло, возможно, ваши серверы имен генерируют неправильные подписи только тогда, когда ответ пуст. А ответы CAA чаще всего пусты.  Например, у PowerDNS <a href="https://community.letsencrypt.org/t/caa-servfail-changes/38298/2?u=jsha">была эта ошибка в версии 4.0.3 и ниже</a>.</p>
<p>Если у вас не включен DNSSEC и вы получили SERVFAIL, вторая наиболее вероятная причина заключается в том, что ваш полномочный сервер имен возвратил NOTIMP, что, как описано выше, является нарушением RFC 1035; вместо этого он должен вернуть NOERROR с пустым ответом. В таком случае отправьте сообщение об ошибке или запрос в службу поддержки вашему провайдеру DNS.</p>
<p>Наконец, ошибки SERVFAIL могут быть вызваны перебоями в работе ваших полномочных серверов имен. Проверьте записи NS для ваших серверов имен и убедитесь, что каждый сервер доступен.</p>
<h1 id="таймаут">Таймаут</h1>
<p>Иногда запросы CAA заканчиваются таймаутом. То есть полномочный сервер имен не отвечает даже после множества попыток. Чаще всего это происходит, если перед вашим сервером имен неправильно настроен файервол, который отвергает запросы DNS с неизвестным типом. Подайте заявку в службу поддержки вашего DNS-провайдера и спросите об их настройках файервола.</p>
</div>
</div>
		


<footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-2">
        <p>  Let's Encrypt - это бесплатный, автоматизированный и открытый Центр Сертификации, созданный для вас
  некоммерческой организацией <a href="https://www.abetterinternet.org/">Internet Security Research Group (ISRG)</a>.
</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">548 Market St, PMB 77519</span>,
            <span itemprop="addressLocality">San Francisco</span>,
            <span itemprop="addressRegion">CA</span>
            <span itemprop="postalCode">94104-5401</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
        <p>Все письма и запросы отправляйте по адресу:</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">PO Box 18666</span>,
            <span itemprop="addressLocality">Minneapolis</span>,
            <span itemprop="addressRegion">MN</span>
            <span itemprop="postalCode">55418-0666</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
      </div>

      <div class="footer-col  footer-col-1">
        <ul class="social-media-list">
          
          <li>
            <i class="fab fa-github" aria-hidden="true"></i>
            <a href="https://github.com/letsencrypt">
              <span class="username">GitHub</span>
            </a>
          </li>
          

          
          <li>
            <i class="fab fa-twitter" aria-hidden="true"></i>
            <a href="https://twitter.com/letsencrypt">
              <span class="username">Twitter</span>
            </a>
          </li>
         
          
          <li>
            <i class="fab fa-mastodon" aria-hidden="true"></i>
            <a rel="me" href="https://infosec.exchange/@letsencrypt">
              <span class="username">Mastodon</span>
            </a>
          </li>
         
        </ul>
        Ознакомьтесь с нашей <a href="/ru/privacy/">политикой конфиденциальности</a>.<br>
Ознакомьтесь с нашей <a href="https://www.abetterinternet.org/trademarks/">политикой в отношении товарных знаков</a>.

      </div>

      <div class="footer-col footer-newsletter-col  footer-col-3">
        <h6>Subscribe to our Newsletter</h6>
        <iframe src="https://outreach.abetterinternet.org/l/1011011/2023-02-16/6l51" height="200" style="width: 100%; border: 0"></iframe>
      </div>
    </div>

  </div>

</footer>



<script src="/js/main.9c0b9add2dc0db21de0f695103830dbde01e31d77fa9a2db9ac3c1b9e09e4806f2e0d9a7281b06461b2e162a3560c605b038169b42ff376b4cd28cc71203c8f0.js" integrity="sha512-nAua3S3A2yHeD2lRA4MNveAeMdd/qaLbmsPBueCeSAby4NmnKBsGRhsuFio1YMYFsDgWm0L/N2tM0ozHEgPI8A=="></script>

	</body>
</html>
