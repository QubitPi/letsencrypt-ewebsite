<!DOCTYPE html>
<html
	dir="ltr"
	lang="zh-Hans-CN">
	
	
	
		<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>证书颁发机构授权（CAA） -  Let&#39;s Encrypt - 免费的SSL/TLS证书</title>
    <meta name="description" content="CAA是一种 DNS 记录，它允许站点所有者指定允许哪些证书颁发机构（CA）颁发包含其域名的证书。 该记录在 2013 年由 RFC 6844标准化，以允许 CA “降低意外颁发证书的风险”。默认情况下，每个公共 CA 在验证申请者的域名控制权后可以为任何在公共 DNS 中的域名颁发证书。 这意味着如果某个 CA 的验证流程出现错误，所有域名都有可能受到影响。 CAA 记录为域名持有者提供了降低这类风险的方法。
使用 CAA 记录 如果您不关心CAA，通常您不需要执行任何操作（但请参阅下面的“CAA 错误”）。 如果您希望使用 CAA 限制允许哪些证书颁发机构为您的域名颁发证书，则您需要使用支持设置 CAA 记录的 DNS 提供商。 您可以查看 SSLMate 的 CAA 页面以获取此类提供商的列表。 如果那上面列出了您的 DNS 提供商，您可以使用 SSLMate 的 CAA 记录生成器生成一组列出您允许颁发证书的 CA 的 CAA 记录。
Let’s Encrypt 用于 CAA的标识域名 letsencrypt.org。 这已在我们的证书实践声明（CPS）4.2.1 节中正式记录。
放置 CAA 记录的位置 您可以在主域名或任何深度的子域名上设置 CAA 记录。 例如，如果您有www.community.example.com这个域名，您可以在该域名、community.example.com或example.com上设置 CAA 记录。 CA 将从左到右检查每个版本，并在看到任何 CAA 记录后立即停止。 因此，community.example.com上的 CAA 记录优先于example.com上的记录。 大多数添加 CAA 记录的人都希望将它们添加到注册域名（example.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@letsencrypt">
    <meta name="twitter:title" content="证书颁发机构授权（CAA）">
    <meta name="twitter:url" content="letsencrypt-ewebsite/zh-cn/docs/caa/">
    <meta name="twitter:description" content="CAA是一种 DNS 记录，它允许站点所有者指定允许哪些证书颁发机构（CA）颁发包含其域名的证书。 该记录在 2013 年由 RFC 6844标准化，以允许 CA “降低意外颁发证书的风险”。默认情况下，每个公共 CA 在验证申请者的域名控制权后可以为任何在公共 DNS 中的域名颁发证书。 这意味着如果某个 CA 的验证流程出现错误，所有域名都有可能受到影响。 CAA 记录为域名持有者提供了降低这类风险的方法。
使用 CAA 记录 如果您不关心CAA，通常您不需要执行任何操作（但请参阅下面的“CAA 错误”）。 如果您希望使用 CAA 限制允许哪些证书颁发机构为您的域名颁发证书，则您需要使用支持设置 CAA 记录的 DNS 提供商。 您可以查看 SSLMate 的 CAA 页面以获取此类提供商的列表。 如果那上面列出了您的 DNS 提供商，您可以使用 SSLMate 的 CAA 记录生成器生成一组列出您允许颁发证书的 CA 的 CAA 记录。
Let’s Encrypt 用于 CAA的标识域名 letsencrypt.org。 这已在我们的证书实践声明（CPS）4.2.1 节中正式记录。
放置 CAA 记录的位置 您可以在主域名或任何深度的子域名上设置 CAA 记录。 例如，如果您有www.community.example.com这个域名，您可以在该域名、community.example.com或example.com上设置 CAA 记录。 CA 将从左到右检查每个版本，并在看到任何 CAA 记录后立即停止。 因此，community.example.com上的 CAA 记录优先于example.com上的记录。 大多数添加 CAA 记录的人都希望将它们添加到注册域名（example.">
    <meta name="twitter:image:src" content="letsencrypt-ewebsite/images/le-logo-twitter-noalpha.png">
    <meta name="og:image" content="letsencrypt-ewebsite/images/LetsEncrypt-SocialShare.png">

    
    <link rel="stylesheet" href="/letsencrypt-ewebsite/css/main.min.6791249091d19b45fdcb90a60bdc1d673e0fa8014336e38e91d9017427824807933b14f5d5af8403308998662afcdf07b5be942bb9087d7cfbfdb5da709822a5.css" integrity="sha512-Z5EkkJHRm0X9y5CmC9wdZz4PqAFDNuOOkdkBdCeCSAeTOxT11a&#43;EAzCJmGYq/N8Htb6UK7kIfXz7/bXacJgipQ==">

    <link rel="stylesheet" href="/fontawesome-free-5.12.1-web/css/all.min.css" />
    
    <link rel="canonical" href="letsencrypt-ewebsite/zh-cn/docs/caa/">
    
    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Let&#39;s Encrypt 博客订阅源" />
    
    
</head>

	
	<body>
		
<header class="site-header">
  <a id="skiplink" href="#main-content">跳过导航链接</a>
  <div class="wrapper">
    <a class="site-title" href="letsencrypt-ewebsite/zh-cn/"><img src="/images/letsencrypt-logo-horizontal.svg" alt="Let's Encrypt"></a>

    <span id="menuIcon">
      <i class="fas fa-bars"></i>
    </span>
    <nav class="site-nav" id="menu">
      <div class="pure-menu pure-menu-horizontal custom-can-transform">
        <ul class="pure-menu-list">
          
          <li class="pure-menu-item">
            <a href="letsencrypt-ewebsite/zh-cn/docs/" class="pure-menu-link" tabindex="0">文档</a>
            
          </li>
          
          <li class="pure-menu-item">
            <a href="https://community.letsencrypt.org/" class="pure-menu-link" tabindex="0">社区</a>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">捐赠</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/donate/" class="pure-menu-link">捐助我们</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/sponsor/" class="pure-menu-link">成为赞助商</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/sponsors/" class="pure-menu-link">当前赞助商和捐助者</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/getinvolved/" class="pure-menu-link">帮助 Let&#39;s Encrypt</a>
              </li>
              
            </ul>
            
          </li>
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">关于</a>
            
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/about/" class="pure-menu-link">Let&#39;s Encrypt</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/about/" class="pure-menu-link">互联网安全研究小组（ISRG）</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/docs/dst-root-ca-x3-expiration-september-2021/" class="pure-menu-link">DST Root CA X3 到期(2021年9月)</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/docs/faq/" class="pure-menu-link">常见问题（FAQ）</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://letsencrypt.status.io/" class="pure-menu-link">服务状态</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/stats/" class="pure-menu-link">统计数据</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="https://www.abetterinternet.org/careers/" class="pure-menu-link">招贤纳士</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/contact/" class="pure-menu-link">联系我们</a>
              </li>
              
            </ul>
            
          </li>
          
          
          
          
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
          
          
          <li class="pure-menu-item pure-menu-has-children">
            <a href="#" class="pure-menu-link" tabindex="0">切换语言 <img src="/images/language-icon128px-black.png" class="inline-icon" alt="" aria-hidden="true"></a>
            <ul class="pure-menu-children menu-for-languages">
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/docs/caa/" lang="en-US" hreflang="en-US" class="pure-menu-link">English</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/da/docs/caa/" lang="da" hreflang="da" class="pure-menu-link">Dansk</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/de/docs/caa/" lang="de-DE" hreflang="de-DE" class="pure-menu-link">Deutsch</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/es/docs/caa/" lang="es-US" hreflang="es-US" class="pure-menu-link">Español</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/fi/docs/caa/" lang="fi" hreflang="fi" class="pure-menu-link">Suomi</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/fr/docs/caa/" lang="fr-FR" hreflang="fr-FR" class="pure-menu-link">Français</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/he/docs/caa/" lang="he" hreflang="he" class="pure-menu-link">עברית</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/hu/docs/caa/" lang="hu" hreflang="hu" class="pure-menu-link">Hungarian</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/id/docs/caa/" lang="id-ID" hreflang="id-ID" class="pure-menu-link">Bahasa Indonesia</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/it/docs/caa/" lang="it-IT" hreflang="it-IT" class="pure-menu-link">Italiano</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/ja/docs/caa/" lang="ja" hreflang="ja" class="pure-menu-link">日本語</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/ko/docs/caa/" lang="ko-KR" hreflang="ko-KR" class="pure-menu-link">한국어</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/pt-br/docs/caa/" lang="pt-BR" hreflang="pt-BR" class="pure-menu-link">Português do Brasil</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/ru/docs/caa/" lang="ru-RU" hreflang="ru-RU" class="pure-menu-link">Русский</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/si/docs/caa/" lang="si" hreflang="si" class="pure-menu-link">සිංහල</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/sr/docs/caa/" lang="sr" hreflang="sr" class="pure-menu-link">Srpski</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/sv/docs/caa/" lang="sv" hreflang="sv" class="pure-menu-link">Svenska</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/uk/docs/caa/" lang="uk-UA" hreflang="uk-UA" class="pure-menu-link">Українська</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/vi/docs/caa/" lang="vi-VN" hreflang="vi-VN" class="pure-menu-link">Tiếng Việt</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-cn/docs/caa/" lang="zh-Hans-CN" hreflang="zh-Hans-CN" class="pure-menu-link">✓ 简体中文</a>
              </li>
              
              
              <li class="pure-menu-item">
                <a href="letsencrypt-ewebsite/zh-tw/docs/caa/" lang="zh-Hant-TW" hreflang="zh-Hant-TW" class="pure-menu-link">繁體中文</a>
              </li>
              
            </ul>
          </li>
          
        </ul>
      </div>
    </nav>
  </div>
</header>
<div id="site-banner">
  <a href="https://abetterinternet.org/tenth-anniversary">ISRG celebrates 10 years of helping build a brighter Internet →</a>
</div>
<div id="main-content"></div>


		

<div class="hero slim" style="background-image: url('/letsencrypt-ewebsite/images/1.jpg');">
<div class="container">
	<h1>证书颁发机构授权（CAA）</h1>
</div>
</div>

<div class="page-content">
	<div class="wrapper">



<script src="/js/i18n.js" defer async></script>



<p>

    
    最后更新：<time datetime="2017-07-27">Jul 27, 2017</time>


 | <a href="/letsencrypt-ewebsite/zh-cn/docs">所有文档</a>
</p>





    
        
               
            
        
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    



<p>CAA是一种 DNS 记录，它允许站点所有者指定允许哪些证书颁发机构（CA）颁发包含其域名的证书。 该记录在 2013 年由 <a href="https://tools.ietf.org/html/rfc6844">RFC 6844</a>标准化，以允许 CA “降低意外颁发证书的风险”。默认情况下，每个公共 CA 在验证申请者的域名控制权后可以为任何在公共 DNS 中的域名颁发证书。 这意味着如果某个 CA 的验证流程出现错误，所有域名都有可能受到影响。 CAA 记录为域名持有者提供了降低这类风险的方法。</p>
<h1 id="使用-caa-记录">使用 CAA 记录</h1>
<p>如果您不关心CAA，通常您不需要执行任何操作（但请参阅下面的“CAA 错误”）。 如果您希望使用 CAA 限制允许哪些证书颁发机构为您的域名颁发证书，则您需要使用支持设置 CAA 记录的 DNS 提供商。 您可以查看 <a href="https://sslmate.com/caa/support">SSLMate 的 CAA 页面</a>以获取此类提供商的列表。 如果那上面列出了您的 DNS 提供商，您可以使用 <a href="https://sslmate.com/caa/">SSLMate 的 CAA 记录生成器</a>生成一组列出您允许颁发证书的 CA 的 CAA 记录。</p>
<p>Let’s Encrypt 用于 CAA的标识域名 <code>letsencrypt.org</code>。 这已在<a href="letsencrypt-ewebsite/zh-cn/repository/" hreflang="zh-Hans-CN">我们的证书实践声明（CPS）4.2.1 节</a>中正式记录。</p>
<h2 id="放置-caa-记录的位置">放置 CAA 记录的位置</h2>
<p>您可以在主域名或任何深度的子域名上设置 CAA 记录。 例如，如果您有<code>www.community.example.com</code>这个域名，您可以在该域名、<code>community.example.com</code>或<code>example.com</code>上设置 CAA 记录。 CA 将从左到右检查每个版本，并在看到任何 CAA 记录后立即停止。 因此，<code>community.example.com</code>上的 CAA 记录优先于<code>example.com</code>上的记录。 大多数添加 CAA 记录的人都希望将它们添加到注册域名（<code>example.com</code>），这样它们对所有子域名均有效。 此外请注意，子域名的 CAA 记录优先于其父域名，无论该记录相比于主域更宽松或更具限制性。 因此，子域名可以放松父域名所施加的限制。</p>
<p>与所有其他 DNS 请求一样，CAA 验证遵循 CNAME 记录。 如果<code>www.community.example.com</code>被设置为<code>web1.example.net</code>的 CNAME，CA 将首先请求<code>www.community.example.com</code>的CAA记录，然后发现该域名有一个CNAME 而不是 CAA 记录后，将请求 <code>web1.example.net</code> 的 CAA 记录。 请注意，如果域名具有 CNAME 记录，则根据 DNS 标准它不能拥有任何其他记录。</p>
<p><a href="https://tools.ietf.org/html/rfc6844">CAA 的 RFC</a>指定了一种称为“爬树”的附加行为，它要求 CA 同时检查 CNAME 解析结果的父域名。 后来<a href="https://www.rfc-editor.org/errata/eid5065">一份勘误</a>删除了这个额外的行为，因此 Let’s Encrypt 和其他 CA 没有实施该行为。</p>
<h1 id="caa-错误">CAA 错误</h1>
<p>由于 Let’s Encrypt 在颁发证书之前检查 CAA 记录，有时即使对于未设置任何 CAA 记录的域名，我们也会遇到错误。 当我们遇到错误时，我们无法判断是否可以对该域名颁发证书，因为域名可能存在因为错误而无法显示的禁止我们颁发证书的 CAA 记录。</p>
<p>如果您遇到与 CAA 相关的错误，请在我们的<a href="letsencrypt-ewebsite/zh-cn/docs/staging-environment/" hreflang="zh-Hans-CN">测试环境</a>中再试几次，看看它们是暂时性的还是永久性的。 如果这些错误是永久性的，则您需要向 DNS 提供商或交换机提供商提交支持工单。 如果您不确定您的 DNS 提供商是谁，请询问您的托管服务提供商。</p>
<p>一些不熟悉 CAA 的 DNS 提供商最初会对客户的问题报告回复说“我们不支持 CAA 记录”。 您的 DNS 提供商不需要专门支持 CAA 记录；它只需要对未知查询类型（包括 CAA）回复以 NOERROR 响应。对不识别的查询类型返回其他操作码（包括 NOTIMP）违反了 <a href="https://tools.ietf.org/html/rfc1035">RFC 1035</a> 并需要修复。</p>
<h1 id="servfail">SERVFAIL</h1>
<p>SERVFAIL 是人们最常遇到的错误之一。 大多数情况下，这表明 DNSSEC 验证失败。 如果您遇到 SERVFAIL 错误，您首先应该使用如 <a href="http://dnsviz.net/">dnsviz.net</a>之类的 DNSSEC 调试器检查错误。 如果您没有发现错误，您的名称服务器可能在响应为空时才生成错误的签名。 而 CAA 响应通常是空的。  例如，PowerDNS <a href="https://community.letsencrypt.org/t/caa-servfail-changes/38298/2?u=jsha">在 4.0.3 及更低版本中有此问题</a>。</p>
<p>如果您没有启用 DNSSEC 却收到了 SERVFAIL 回复，那么第二可能的原因是您的权威名称服务器返回了 NOTIMP 响应。如上所述，这是违反 RFC 1035 的；它应该返回响应代码为 NOERROR 的空响应。 如果是这种情况，请向 DNS 提供商提交错误报告或支持服务工单。</p>
<p>最后，SERVFAIL 可能是由您的权威名称服务器服务中断引起的。 请检查 DNS 服务器的 NS 记录，并确保每个服务器都可以访问。</p>
<h1 id="超时">超时</h1>
<p>有时 CAA 查询会超时。 也就是说，即使在我们多次重试之后，权威名称服务器也没有返回任何答复。 最常见的情况是，当您的 DNS 服务器的防火墙配置错误，会丢弃具有未知查询类型的 DNS 查询。 您可以向 DNS 提供商提交支持工单，询问他们是否配置了这样的防火墙。</p>
</div>
</div>
		


<footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-2">
        <p>  Let's Encrypt 是免费、开放和自动化的证书颁发机构。由非盈利组织<a href="https://www.abetterinternet.org/"
  style="white-space:nowrap;">互联网安全研究小组（ISRG）</a>运营。
</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">548 Market St, PMB 77519</span>,
            <span itemprop="addressLocality">San Francisco</span>,
            <span itemprop="addressRegion">CA</span>
            <span itemprop="postalCode">94104-5401</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
        <p>发送邮件或询问到：</p>
        <p>
          <span itemscope itemtype="http://schema.org/PostalAddress">
            <span itemprop="streetAddress">PO Box 18666</span>,
            <span itemprop="addressLocality">Minneapolis</span>,
            <span itemprop="addressRegion">MN</span>
            <span itemprop="postalCode">55418-0666</span>,
            <span itemprop="addressCountry">USA</span>
          </span>
        </p>
      </div>

      <div class="footer-col  footer-col-1">
        <ul class="social-media-list">
          
          <li>
            <i class="fab fa-github" aria-hidden="true"></i>
            <a href="https://github.com/letsencrypt">
              <span class="username">GitHub</span>
            </a>
          </li>
          

          
          <li>
            <i class="fab fa-twitter" aria-hidden="true"></i>
            <a href="https://twitter.com/letsencrypt">
              <span class="username">Twitter</span>
            </a>
          </li>
         
          
          <li>
            <i class="fab fa-mastodon" aria-hidden="true"></i>
            <a rel="me" href="https://infosec.exchange/@letsencrypt">
              <span class="username">Mastodon</span>
            </a>
          </li>
         
        </ul>
        查看我们的<a href="/zh-cn/privacy/">隐私政策</a><br />
查看我们的<a href="https://www.abetterinternet.org/trademarks/">商标政策</a>

      </div>

      <div class="footer-col footer-newsletter-col  footer-col-3">
        <h6>Subscribe to our Newsletter</h6>
        <iframe src="https://outreach.abetterinternet.org/l/1011011/2023-02-16/6l51" height="200" style="width: 100%; border: 0"></iframe>
      </div>
    </div>

  </div>

</footer>



<script src="/letsencrypt-ewebsite/js/main.9c0b9add2dc0db21de0f695103830dbde01e31d77fa9a2db9ac3c1b9e09e4806f2e0d9a7281b06461b2e162a3560c605b038169b42ff376b4cd28cc71203c8f0.js" integrity="sha512-nAua3S3A2yHeD2lRA4MNveAeMdd/qaLbmsPBueCeSAby4NmnKBsGRhsuFio1YMYFsDgWm0L/N2tM0ozHEgPI8A=="></script>

	</body>
</html>
